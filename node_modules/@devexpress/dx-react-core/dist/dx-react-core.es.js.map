{"version":3,"file":"dx-react-core.es.js","sources":["../src/plugin-based/contexts.js","../src/plugin-based/plugin-indexer.jsx","../src/plugin-based/constants.js","../src/utils/with-props-from-context.jsx","../src/plugin-based/plugin.jsx","../src/plugin-based/template-placeholder.jsx","../src/plugin-based/plugin-host.jsx","../src/plugin-based/helpers.js","../src/plugin-based/action.jsx","../src/plugin-based/getter.jsx","../src/plugin-based/template.jsx","../src/plugin-based/template-connector.jsx","../src/draggable/touch-strategy.js","../src/draggable/gesture-cover.js","../src/draggable/mouse-strategy.js","../src/draggable/shared-events.js","../src/draggable/selection-utils.js","../src/draggable.jsx","../src/drag-drop/context.js","../src/drag-drop/provider.jsx","../src/drag-drop/source.jsx","../src/drag-drop/target.jsx","../src/ref-holder.jsx","../src/sizer.jsx","../src/utils/connect-props.jsx","../src/utils/state-helper.js","../src/utils/with-components.jsx"],"sourcesContent":["import * as React from 'react';\n\nexport const PluginHostContext = React.createContext();\nexport const PositionContext = React.createContext();\nexport const TemplateHostContext = React.createContext();\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { PositionContext } from './contexts';\n\nexport const PluginIndexer = ({ children }) => (\n  <PositionContext.Consumer>\n    {positionContext => (\n      React.Children.map(children, (child, index) => {\n        if (!child || !child.type) return child;\n\n        const childPosition = () => {\n          const calculatedPosition = (positionContext && positionContext()) || [];\n          return [...calculatedPosition, index];\n        };\n\n        return (\n          <PositionContext.Provider value={childPosition}>\n            {child}\n          </PositionContext.Provider>\n        );\n      })\n    )}\n  </PositionContext.Consumer>\n);\n\nPluginIndexer.propTypes = {\n  children: PropTypes.node,\n};\n\nPluginIndexer.defaultProps = {\n  children: undefined,\n};\n","export const PLUGIN_HOST_CONTEXT = 'dxcore_pluginHost_context';\nexport const POSITION_CONTEXT = 'dxcore_position_context';\nexport const TEMPLATE_HOST_CONTEXT = 'dxcore_templateHost_context';\n\nexport const RERENDER_TEMPLATE_EVENT = Symbol('rerenderTemplate');\nexport const RERENDER_TEMPLATE_SCOPE_EVENT = Symbol('rerenderTemplateScope');\nexport const UPDATE_CONNECTION_EVENT = Symbol('updateConnection');\n","import * as React from 'react';\nimport { PluginHostContext, PositionContext } from '../plugin-based/contexts';\nimport { PLUGIN_HOST_CONTEXT, POSITION_CONTEXT } from '../plugin-based/constants';\n\nexport const withContext = (Context, name) => Component => props => (\n  <Context.Consumer>\n    {context => (\n      <Component {...props} {...{ [name]: context }} />\n    )}\n  </Context.Consumer>\n);\n\nexport const withHostAndPosition = Component => withContext(\n  PluginHostContext,\n  PLUGIN_HOST_CONTEXT,\n)(withContext(PositionContext, POSITION_CONTEXT)(Component));\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { PluginIndexer } from './plugin-indexer';\nimport { PLUGIN_HOST_CONTEXT, POSITION_CONTEXT } from './constants';\nimport { withHostAndPosition } from '../utils/with-props-from-context';\n\nexport class PluginBase extends React.PureComponent {\n  componentDidMount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost, [POSITION_CONTEXT]: position } = this.props;\n    const { name, dependencies } = this.props;\n    this.plugin = {\n      position,\n      name,\n      dependencies,\n      container: true,\n    };\n    pluginHost.registerPlugin(this.plugin);\n  }\n\n  componentDidUpdate() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n    pluginHost.ensureDependencies();\n  }\n\n  componentWillUnmount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n    pluginHost.unregisterPlugin(this.plugin);\n  }\n\n  render() {\n    const { children } = this.props;\n    return (\n      <PluginIndexer>\n        {children}\n      </PluginIndexer>\n    );\n  }\n}\n\nPluginBase.propTypes = {\n  [PLUGIN_HOST_CONTEXT]: PropTypes.object.isRequired,\n  [POSITION_CONTEXT]: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n  name: PropTypes.string,\n  dependencies: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string,\n    optional: PropTypes.bool,\n  })),\n};\n\nPluginBase.defaultProps = {\n  name: '',\n  dependencies: [],\n};\n\nexport const Plugin = withHostAndPosition(PluginBase);\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { shallowEqual } from '@devexpress/dx-core';\nimport {\n  PLUGIN_HOST_CONTEXT, RERENDER_TEMPLATE_EVENT,\n  TEMPLATE_HOST_CONTEXT, RERENDER_TEMPLATE_SCOPE_EVENT,\n} from './constants';\nimport { withContext } from '../utils/with-props-from-context';\nimport { PluginHostContext, TemplateHostContext } from './contexts';\n\nexport class TemplatePlaceholderBase extends React.Component {\n  constructor(props) {\n    super(props);\n    const { name: propsName } = this.props;\n\n    this.subscription = {\n      [RERENDER_TEMPLATE_EVENT]: (id) => {\n        if (this.template && this.template.id === id) {\n          this.forceUpdate();\n        }\n      },\n      [RERENDER_TEMPLATE_SCOPE_EVENT]: (name) => {\n        if (propsName === name) {\n          this.forceUpdate();\n        }\n      },\n    };\n  }\n\n  componentDidMount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n    pluginHost.registerSubscription(this.subscription);\n  }\n\n  shouldComponentUpdate(nextProps) {\n    const { params } = this.getRenderingData(nextProps);\n    const { children } = this.props;\n    return !shallowEqual(params, this.params) || children !== nextProps.children;\n  }\n\n  componentWillUnmount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n    pluginHost.unregisterSubscription(this.subscription);\n  }\n\n  getRenderingData(props) {\n    const { name, params } = props;\n    if (name) {\n      const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n      return {\n        params,\n        templates: pluginHost.collect(`${name}Template`)\n          .filter(template => template.predicate(params))\n          .reverse(),\n      };\n    }\n    const { [TEMPLATE_HOST_CONTEXT]: templateHost } = this.props;\n    return {\n      params: params || templateHost.params(),\n      templates: templateHost.templates(),\n    };\n  }\n\n  render() {\n    const { params, templates } = this.getRenderingData(this.props);\n\n    this.params = params;\n    [this.template] = templates;\n    this.restTemplates = templates.slice(1);\n\n    let content = null;\n    if (this.template) {\n      const { children: templateContent } = this.template;\n\n      content = templateContent() || null;\n      if (content && typeof content === 'function') {\n        content = content(params);\n      }\n    }\n\n    const { children: templatePlaceholder } = this.props;\n    return (\n      <TemplateHostContext.Provider value={{\n        templates: () => this.restTemplates,\n        params: () => this.params,\n      }}\n      >\n        {templatePlaceholder ? templatePlaceholder(content) : content}\n      </TemplateHostContext.Provider>\n    );\n  }\n}\n\nTemplatePlaceholderBase.propTypes = {\n  name: PropTypes.string, // eslint-disable-line react/no-unused-prop-types\n  params: PropTypes.object, // eslint-disable-line react/no-unused-prop-types\n  [TEMPLATE_HOST_CONTEXT]: PropTypes.object,\n  [PLUGIN_HOST_CONTEXT]: PropTypes.object.isRequired,\n  children: PropTypes.func,\n};\n\nTemplatePlaceholderBase.defaultProps = {\n  [TEMPLATE_HOST_CONTEXT]: undefined,\n  name: undefined,\n  params: undefined,\n  children: undefined,\n};\n\nexport const TemplatePlaceholder = withContext(PluginHostContext, PLUGIN_HOST_CONTEXT)(\n  withContext(TemplateHostContext, TEMPLATE_HOST_CONTEXT)(TemplatePlaceholderBase),\n);\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { PluginHost as PluginHostCore } from '@devexpress/dx-core';\nimport { PluginIndexer } from './plugin-indexer';\nimport { TemplatePlaceholder } from './template-placeholder';\nimport { PluginHostContext } from './contexts';\n\nexport class PluginHost extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.host = new PluginHostCore();\n  }\n\n  render() {\n    const { children } = this.props;\n\n    return (\n      <PluginHostContext.Provider value={this.host}>\n        <PluginIndexer>\n          {children}\n        </PluginIndexer>\n        <TemplatePlaceholder name=\"root\" />\n      </PluginHostContext.Provider>\n    );\n  }\n}\n\nPluginHost.propTypes = {\n  children: PropTypes.node,\n};\n\nPluginHost.defaultProps = {\n  children: undefined,\n};\n","import { shallowEqual } from '@devexpress/dx-core';\n\nexport const getAvailableGetters = (\n  pluginHost,\n  getGetterValue = getterName => pluginHost.get(`${getterName}Getter`),\n) => {\n  const trackedDependencies = {};\n\n  let getters;\n  if (typeof Proxy !== 'undefined') {\n    getters = new Proxy({}, {\n      get(target, prop) {\n        if (typeof prop !== 'string') return undefined;\n        const result = getGetterValue(prop);\n        trackedDependencies[prop] = result;\n        return result;\n      },\n      getOwnPropertyDescriptor(target, prop) {\n        return { configurable: true, enumerable: true, value: this.get(target, prop) };\n      },\n      ownKeys() {\n        return pluginHost.knownKeys('Getter');\n      },\n    });\n  } else {\n    getters = pluginHost.knownKeys('Getter')\n      .reduce((acc, getterName) => {\n        Object.defineProperty(acc, getterName, {\n          get: () => {\n            const result = getGetterValue(getterName);\n            trackedDependencies[getterName] = result;\n            return result;\n          },\n        });\n        return acc;\n      }, {});\n  }\n\n  return { getters, trackedDependencies };\n};\n\nexport const isTrackedDependenciesChanged = (\n  pluginHost,\n  prevTrackedDependencies,\n  getGetterValue = getterName => pluginHost.get(`${getterName}Getter`),\n) => {\n  const trackedDependencies = Object.keys(prevTrackedDependencies)\n    .reduce((acc, getterName) => Object.assign(acc, {\n      [getterName]: getGetterValue(getterName),\n    }), {});\n\n  return !shallowEqual(prevTrackedDependencies, trackedDependencies);\n};\n\nexport const getAvailableActions = (\n  pluginHost,\n  getAction = actionName => pluginHost.collect(`${actionName}Action`).slice().reverse()[0],\n) => {\n  let actions;\n  if (typeof Proxy !== 'undefined') {\n    actions = new Proxy({}, {\n      get(target, prop) {\n        if (typeof prop !== 'string') return undefined;\n        return getAction(prop);\n      },\n      getOwnPropertyDescriptor(target, prop) {\n        return { configurable: true, enumerable: true, value: this.get(target, prop) };\n      },\n      ownKeys() {\n        return pluginHost.knownKeys('Action');\n      },\n    });\n  } else {\n    actions = pluginHost.knownKeys('Action')\n      .reduce((acc, actionName) => {\n        Object.defineProperty(acc, actionName, {\n          get: () => getAction(actionName),\n        });\n        return acc;\n      }, {});\n  }\n  return actions;\n};\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport {\n  getAvailableGetters,\n  getAvailableActions,\n} from './helpers';\nimport { PLUGIN_HOST_CONTEXT, POSITION_CONTEXT } from './constants';\nimport { withHostAndPosition } from '../utils/with-props-from-context';\n\nclass ActionBase extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost, [POSITION_CONTEXT]: positionContext } = props;\n    const { name } = props;\n\n    this.plugin = {\n      position: () => positionContext(),\n      [`${name}Action`]: (params) => {\n        const { action } = this.props;\n        const { getters } = getAvailableGetters(\n          pluginHost,\n          getterName => pluginHost.get(`${getterName}Getter`, this.plugin),\n        );\n        let nextParams = params;\n        const actions = getAvailableActions(\n          pluginHost,\n          actionName => (actionName === name\n            ? (newParams) => { nextParams = newParams; }\n            : pluginHost.collect(`${actionName}Action`, this.plugin).slice().reverse()[0]),\n        );\n        action(params, getters, actions);\n        const nextAction = pluginHost.collect(`${name}Action`, this.plugin).slice().reverse()[0];\n        if (nextAction) {\n          nextAction(nextParams);\n        }\n      },\n    };\n\n    pluginHost.registerPlugin(this.plugin);\n  }\n\n  componentWillUnmount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n\n    pluginHost.unregisterPlugin(this.plugin);\n  }\n\n  render() {\n    return null;\n  }\n}\n\nActionBase.propTypes = {\n  name: PropTypes.string.isRequired,\n  action: PropTypes.func.isRequired,\n  [PLUGIN_HOST_CONTEXT]: PropTypes.object.isRequired,\n  [POSITION_CONTEXT]: PropTypes.func.isRequired,\n};\n\nexport const Action = withHostAndPosition(ActionBase);\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport {\n  isTrackedDependenciesChanged,\n  getAvailableGetters,\n  getAvailableActions,\n} from './helpers';\nimport { UPDATE_CONNECTION_EVENT, PLUGIN_HOST_CONTEXT, POSITION_CONTEXT } from './constants';\nimport { withHostAndPosition } from '../utils/with-props-from-context';\n\nclass GetterBase extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost, [POSITION_CONTEXT]: positionContext } = props;\n    const { name } = props;\n\n    let lastComputed;\n    let lastTrackedDependencies = {};\n    let lastResult;\n\n    this.plugin = {\n      position: () => positionContext(),\n      [`${name}Getter`]: (original) => {\n        const { value, computed } = this.props;\n        if (computed === undefined) return value;\n\n        const getGetterValue = getterName => ((getterName === name)\n          ? original\n          : pluginHost.get(`${getterName}Getter`, this.plugin));\n\n        if (computed === lastComputed\n          && !isTrackedDependenciesChanged(pluginHost, lastTrackedDependencies, getGetterValue)) {\n          return lastResult;\n        }\n\n        const { getters, trackedDependencies } = getAvailableGetters(pluginHost, getGetterValue);\n        const actions = getAvailableActions(pluginHost);\n\n        lastComputed = computed;\n        lastTrackedDependencies = trackedDependencies;\n        lastResult = computed(getters, actions);\n        return lastResult;\n      },\n    };\n\n    pluginHost.registerPlugin(this.plugin);\n  }\n\n  componentDidUpdate() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n\n    pluginHost.broadcast(UPDATE_CONNECTION_EVENT);\n  }\n\n  componentWillUnmount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n\n    pluginHost.unregisterPlugin(this.plugin);\n  }\n\n  render() {\n    return null;\n  }\n}\n\nGetterBase.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.any,\n  computed: PropTypes.func,\n  [PLUGIN_HOST_CONTEXT]: PropTypes.object.isRequired,\n  [POSITION_CONTEXT]: PropTypes.func.isRequired,\n};\n\nGetterBase.defaultProps = {\n  value: undefined,\n  computed: undefined,\n};\n\nexport const Getter = withHostAndPosition(GetterBase);\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport {\n  PLUGIN_HOST_CONTEXT, POSITION_CONTEXT,\n  RERENDER_TEMPLATE_EVENT, RERENDER_TEMPLATE_SCOPE_EVENT,\n} from './constants';\nimport { withHostAndPosition } from '../utils/with-props-from-context';\n\nlet globalTemplateId = 0;\nclass TemplateBase extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    globalTemplateId += 1;\n    this.id = globalTemplateId;\n\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost, [POSITION_CONTEXT]: positionContext } = props;\n    const { name, predicate } = props;\n\n    this.plugin = {\n      position: () => positionContext(),\n      [`${name}Template`]: {\n        id: this.id,\n        predicate: params => (predicate ? predicate(params) : true),\n        children: () => {\n          const { children } = this.props;\n          return children;\n        },\n      },\n    };\n    pluginHost.registerPlugin(this.plugin);\n    pluginHost.broadcast(RERENDER_TEMPLATE_SCOPE_EVENT, name);\n  }\n\n  componentDidUpdate() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n    pluginHost.broadcast(RERENDER_TEMPLATE_EVENT, this.id);\n  }\n\n  componentWillUnmount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n    const { name } = this.props;\n    pluginHost.unregisterPlugin(this.plugin);\n    pluginHost.broadcast(RERENDER_TEMPLATE_SCOPE_EVENT, name);\n  }\n\n  render() {\n    return null;\n  }\n}\n\nTemplateBase.propTypes = {\n  [PLUGIN_HOST_CONTEXT]: PropTypes.object.isRequired,\n  [POSITION_CONTEXT]: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n  predicate: PropTypes.func,\n  children: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.node,\n  ]),\n};\n\nTemplateBase.defaultProps = {\n  predicate: undefined,\n  children: undefined,\n};\n\nexport const Template = withHostAndPosition(TemplateBase);\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { UPDATE_CONNECTION_EVENT } from './constants';\nimport {\n  isTrackedDependenciesChanged,\n  getAvailableGetters,\n  getAvailableActions,\n} from './helpers';\nimport { PluginHostContext } from './contexts';\n\nexport class TemplateConnector extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.trackedDependencies = {};\n    this.subscription = {\n      [UPDATE_CONNECTION_EVENT]: () => this.updateConnection(),\n    };\n  }\n\n  componentDidMount() {\n    const pluginHost = this.context;\n    pluginHost.registerSubscription(this.subscription);\n  }\n\n  componentWillUnmount() {\n    const pluginHost = this.context;\n    pluginHost.unregisterSubscription(this.subscription);\n  }\n\n  updateConnection() {\n    const pluginHost = this.context;\n\n    if (isTrackedDependenciesChanged(pluginHost, this.trackedDependencies)) {\n      this.forceUpdate();\n    }\n  }\n\n  render() {\n    const pluginHost = this.context;\n    const { children } = this.props;\n\n    const { getters, trackedDependencies } = getAvailableGetters(pluginHost);\n    this.trackedDependencies = trackedDependencies;\n    const actions = getAvailableActions(pluginHost);\n\n    return children(getters, actions);\n  }\n}\n\nTemplateConnector.propTypes = {\n  children: PropTypes.func.isRequired,\n};\n\nTemplateConnector.contextType = PluginHostContext;\n","const TIMEOUT = 180;\n\nexport class TouchStrategy {\n  constructor(delegate) {\n    this.delegate = delegate;\n    this.touchStartTimeout = null;\n    this.dragging = false;\n  }\n\n  isDragging() {\n    return this.dragging;\n  }\n\n  isWaiting() {\n    return !!this.touchStartTimeout;\n  }\n\n  cancelWaiting() {\n    clearTimeout(this.touchStartTimeout);\n    this.touchStartTimeout = null;\n  }\n\n  start(e) {\n    const { clientX: x, clientY: y } = e.touches[0];\n    this.touchStartTimeout = setTimeout(() => {\n      this.delegate.onStart({ x, y });\n      this.dragging = true;\n    }, TIMEOUT);\n  }\n\n  move(e) {\n    this.cancelWaiting();\n    if (this.dragging) {\n      const { clientX, clientY } = e.touches[0];\n      e.preventDefault();\n      this.delegate.onMove({ x: clientX, y: clientY });\n    }\n  }\n\n  end(e) {\n    this.cancelWaiting();\n    if (this.dragging) {\n      const { clientX, clientY } = e.changedTouches[0];\n      this.delegate.onEnd({ x: clientX, y: clientY });\n    }\n    this.mouseInitialOffset = null;\n    this.dragging = false;\n  }\n}\n","/* globals document:true */\n\nlet gestureCover = null;\nexport const toggleGestureCover = (toggle, cursor) => {\n  let style = {\n    pointerEvents: toggle ? 'all' : 'none',\n  };\n  if (toggle && cursor) {\n    style = {\n      ...style,\n      cursor,\n    };\n  }\n  if (!gestureCover) {\n    style = {\n      ...style,\n      position: 'fixed',\n      top: 0,\n      right: 0,\n      left: 0,\n      bottom: 0,\n      opacity: 0,\n      zIndex: 2147483647,\n    };\n\n    gestureCover = document.createElement('div');\n    document.body.appendChild(gestureCover);\n  }\n  Object.keys(style).forEach((key) => { gestureCover.style[key] = style[key]; });\n};\n","/* globals window:true document:true */\n\nimport { toggleGestureCover } from './gesture-cover';\n\nconst BOUNDARY = 10;\nconst clamp = (value, min, max) => Math.max(Math.min(value, max), min);\nconst isBoundExceeded = (\n  { x: initialX, y: initialY }, { x, y },\n) => clamp(x, initialX - BOUNDARY, initialX + BOUNDARY) !== x\n  || clamp(y, initialY - BOUNDARY, initialY + BOUNDARY) !== y;\n\nexport class MouseStrategy {\n  constructor(delegate) {\n    this.delegate = delegate;\n    this.mouseInitialOffset = null;\n    this.dragging = false;\n  }\n\n  isDragging() {\n    return this.dragging;\n  }\n\n  start(e) {\n    const { clientX: x, clientY: y } = e;\n    this.e = e;\n    this.mouseInitialOffset = { x, y };\n  }\n\n  move(e) {\n    const { clientX: x, clientY: y } = e;\n    let dragStarted = false;\n    if (!this.dragging && this.mouseInitialOffset) {\n      if (isBoundExceeded(this.mouseInitialOffset, { x, y })) {\n        this.delegate.onStart(this.mouseInitialOffset);\n        if (window.getSelection) {\n          window.getSelection().removeAllRanges();\n        }\n        dragStarted = true;\n        this.dragging = true;\n      }\n    }\n    if (this.dragging) {\n      e.preventDefault();\n      this.delegate.onMove({ x, y });\n    }\n    if (dragStarted) {\n      const { cursor } = window.getComputedStyle(document.elementFromPoint(x, y));\n      toggleGestureCover(true, cursor);\n    }\n  }\n\n  end(e) {\n    if (this.dragging) {\n      const { clientX: x, clientY: y } = e;\n      toggleGestureCover(false);\n      this.delegate.onEnd({ x, y });\n    }\n    this.mouseInitialOffset = null;\n    this.dragging = false;\n  }\n}\n","/* globals window:true */\n\nimport { EventEmitter } from '@devexpress/dx-core';\n\nlet eventEmitter = null;\nexport const getSharedEventEmitter = () => {\n  if (!eventEmitter) {\n    eventEmitter = new EventEmitter();\n\n    ['mousemove', 'mouseup', 'touchmove', 'touchend', 'touchcancel']\n      .forEach(name => window.addEventListener(\n        name, e => eventEmitter.emit([name, e]), { passive: false },\n      ));\n  }\n  return eventEmitter;\n};\n","/* globals document:true window:true */\n\nexport const clear = () => {\n  if (window.getSelection) {\n    if (window.getSelection().empty) {\n      window.getSelection().empty();\n    } else if (window.getSelection().removeAllRanges) {\n      window.getSelection().removeAllRanges();\n    }\n  } else if (document.selection) {\n    document.selection.empty();\n  }\n};\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\n// eslint-disable-next-line camelcase\nimport { unstable_batchedUpdates, findDOMNode } from 'react-dom';\nimport { TouchStrategy } from './draggable/touch-strategy';\nimport { MouseStrategy } from './draggable/mouse-strategy';\nimport { getSharedEventEmitter } from './draggable/shared-events';\nimport { clear } from './draggable/selection-utils';\n\nconst draggingHandled = Symbol('draggingHandled');\n\nexport class Draggable extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    const delegate = {\n      onStart: ({ x, y }) => {\n        const { onStart } = this.props;\n        if (!onStart) return;\n        unstable_batchedUpdates(() => {\n          onStart({ x, y });\n        });\n      },\n      onMove: ({ x, y }) => {\n        const { onUpdate } = this.props;\n        if (!onUpdate) return;\n        unstable_batchedUpdates(() => {\n          onUpdate({ x, y });\n        });\n      },\n      onEnd: ({ x, y }) => {\n        const { onEnd } = this.props;\n        if (!onEnd) return;\n        unstable_batchedUpdates(() => {\n          onEnd({ x, y });\n        });\n      },\n    };\n\n    this.mouseStrategy = new MouseStrategy(delegate);\n    this.touchStrategy = new TouchStrategy(delegate);\n\n    this.mouseDownListener = this.mouseDownListener.bind(this);\n    this.touchStartListener = this.touchStartListener.bind(this);\n    this.globalListener = this.globalListener.bind(this);\n  }\n\n  componentDidMount() {\n    getSharedEventEmitter().subscribe(this.globalListener);\n    this.setupNodeSubscription();\n  }\n\n  shouldComponentUpdate(nextProps) {\n    const { children } = this.props;\n    return nextProps.children !== children;\n  }\n\n  componentDidUpdate() {\n    this.setupNodeSubscription();\n  }\n\n  componentWillUnmount() {\n    getSharedEventEmitter().unsubscribe(this.globalListener);\n  }\n\n  setupNodeSubscription() {\n    // eslint-disable-next-line react/no-find-dom-node\n    const node = findDOMNode(this);\n    if (!node) return;\n    node.removeEventListener('mousedown', this.mouseDownListener);\n    node.removeEventListener('touchstart', this.touchStartListener);\n    node.addEventListener('mousedown', this.mouseDownListener, { passive: true });\n    node.addEventListener('touchstart', this.touchStartListener, { passive: true });\n  }\n\n  mouseDownListener(e) {\n    if (this.touchStrategy.isWaiting() || e[draggingHandled]) return;\n    this.mouseStrategy.start(e);\n    e[draggingHandled] = true;\n  }\n\n  touchStartListener(e) {\n    if (e[draggingHandled]) return;\n    this.touchStrategy.start(e);\n    e[draggingHandled] = true;\n  }\n\n  globalListener([name, e]) {\n    switch (name) {\n      case 'mousemove':\n        this.mouseStrategy.move(e);\n        break;\n      case 'mouseup':\n        this.mouseStrategy.end(e);\n        break;\n      case 'touchmove': {\n        this.touchStrategy.move(e);\n        break;\n      }\n      case 'touchend':\n      case 'touchcancel': {\n        this.touchStrategy.end(e);\n        break;\n      }\n      default:\n        break;\n    }\n    if (this.mouseStrategy.isDragging() || this.touchStrategy.isDragging()) {\n      clear();\n    }\n  }\n\n  render() {\n    const { children } = this.props;\n    return children;\n  }\n}\n\nDraggable.propTypes = {\n  children: PropTypes.node.isRequired,\n  onStart: PropTypes.func,\n  onUpdate: PropTypes.func,\n  onEnd: PropTypes.func,\n};\n\nDraggable.defaultProps = {\n  onStart: undefined,\n  onUpdate: undefined,\n  onEnd: undefined,\n};\n","import * as React from 'react';\n\nexport const DragDropContext = React.createContext();\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\n\nimport { EventEmitter } from '@devexpress/dx-core';\nimport { DragDropContext } from './context';\n\nclass DragDropProviderCore {\n  constructor() {\n    this.payload = null;\n    this.dragEmitter = new EventEmitter();\n  }\n\n  start(payload, clientOffset) {\n    this.payload = payload;\n    this.dragEmitter.emit({ payload: this.payload, clientOffset });\n  }\n\n  update(clientOffset) {\n    this.dragEmitter.emit({ payload: this.payload, clientOffset });\n  }\n\n  end(clientOffset) {\n    this.dragEmitter.emit({ payload: this.payload, clientOffset, end: true });\n    this.payload = null;\n  }\n}\n\nexport class DragDropProvider extends React.Component {\n  constructor(props) {\n    super(props);\n    const { onChange } = this.props;\n\n    this.dragDropProvider = new DragDropProviderCore();\n\n    this.dragDropProvider.dragEmitter.subscribe(({ payload, clientOffset, end }) => {\n      onChange({\n        payload: end ? null : payload,\n        clientOffset: end ? null : clientOffset,\n      });\n    });\n  }\n\n  shouldComponentUpdate(nextProps) {\n    const { children } = this.props;\n    return nextProps.children !== children;\n  }\n\n  render() {\n    const { children } = this.props;\n    return (\n      <DragDropContext.Provider value={this.dragDropProvider}>\n        {children}\n      </DragDropContext.Provider>\n    );\n  }\n}\n\nDragDropProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n  onChange: PropTypes.func,\n};\n\nDragDropProvider.defaultProps = {\n  onChange: () => {},\n};\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { DragDropContext } from './context';\nimport { Draggable } from '../draggable';\n\nexport class DragSource extends React.Component {\n  shouldComponentUpdate(nextProps) {\n    const { children } = this.props;\n    return nextProps.children !== children;\n  }\n\n  render() {\n    const dragDropProvider = this.context;\n    const {\n      onStart, onUpdate, onEnd, payload, children,\n    } = this.props;\n    return (\n      <Draggable\n        onStart={({ x, y }) => {\n          dragDropProvider.start(payload, { x, y });\n          onStart({ clientOffset: { x, y } });\n        }}\n        onUpdate={({ x, y }) => {\n          dragDropProvider.update({ x, y });\n          onUpdate({ clientOffset: { x, y } });\n        }}\n        onEnd={({ x, y }) => {\n          dragDropProvider.end({ x, y });\n          onEnd({ clientOffset: { x, y } });\n        }}\n      >\n        {children}\n      </Draggable>\n    );\n  }\n}\nDragSource.contextType = DragDropContext;\n\nDragSource.propTypes = {\n  children: PropTypes.node.isRequired,\n  payload: PropTypes.any.isRequired,\n  onStart: PropTypes.func,\n  onUpdate: PropTypes.func,\n  onEnd: PropTypes.func,\n};\n\nDragSource.defaultProps = {\n  onStart: () => {},\n  onUpdate: () => {},\n  onEnd: () => {},\n};\n","import * as React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport * as PropTypes from 'prop-types';\nimport { DragDropContext } from './context';\n\nconst clamp = (value, min, max) => Math.max(Math.min(value, max), min);\n\nexport class DropTarget extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.node = null;\n    this.isOver = false;\n\n    this.handleDrag = this.handleDrag.bind(this);\n  }\n\n  componentDidMount() {\n    const { dragEmitter } = this.context;\n    dragEmitter.subscribe(this.handleDrag);\n  }\n\n  shouldComponentUpdate(nextProps) {\n    const { children } = this.props;\n    return nextProps.children !== children;\n  }\n\n  componentWillUnmount() {\n    const { dragEmitter } = this.context;\n    dragEmitter.unsubscribe(this.handleDrag);\n  }\n\n  handleDrag({ payload, clientOffset, end }) {\n    const {\n      left,\n      top,\n      right,\n      bottom,\n    } = findDOMNode(this).getBoundingClientRect(); // eslint-disable-line react/no-find-dom-node\n    const {\n      onDrop, onEnter, onLeave, onOver,\n    } = this.props;\n    const isOver = clientOffset\n      && clamp(clientOffset.x, left, right) === clientOffset.x\n      && clamp(clientOffset.y, top, bottom) === clientOffset.y;\n\n    if (!this.isOver && isOver) onEnter({ payload, clientOffset });\n    if (this.isOver && isOver) onOver({ payload, clientOffset });\n    if (this.isOver && !isOver) onLeave({ payload, clientOffset });\n    if (isOver && end) onDrop({ payload, clientOffset });\n\n    this.isOver = isOver && !end;\n  }\n\n  render() {\n    const { children } = this.props;\n    return React.Children.only(children);\n  }\n}\n\nDropTarget.contextType = DragDropContext;\n\nDropTarget.propTypes = {\n  children: PropTypes.node.isRequired,\n  onEnter: PropTypes.func,\n  onOver: PropTypes.func,\n  onLeave: PropTypes.func,\n  onDrop: PropTypes.func,\n};\n\nDropTarget.defaultProps = {\n  onEnter: () => {},\n  onOver: () => {},\n  onLeave: () => {},\n  onDrop: () => {},\n};\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\n\nexport class RefHolder extends React.PureComponent {\n  render() {\n    const { children } = this.props;\n    return children;\n  }\n}\n\nRefHolder.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","/* globals document:true */\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport { RefHolder } from './ref-holder';\n\nconst styles = {\n  triggersRoot: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    height: '100%',\n    width: '100%',\n    overflow: 'hidden',\n    zIndex: -1,\n    visibility: 'hidden',\n    opacity: 0,\n  },\n  expandTrigger: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    height: '100%',\n    width: '100%',\n    overflow: 'auto',\n  },\n  contractTrigger: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    height: '100%',\n    width: '100%',\n    overflow: 'auto',\n    minHeight: '1px',\n    minWidth: '1px',\n  },\n  contractNotifier: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '200%',\n    height: '200%',\n  },\n};\n\nexport class Sizer extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.setupListeners = this.setupListeners.bind(this);\n    this.rootRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.createListeners();\n    this.setupListeners();\n  }\n\n  setupListeners() {\n    // eslint-disable-next-line react/no-find-dom-node\n    const rootNode = findDOMNode(this.rootRef.current);\n    const size = { height: rootNode.clientHeight, width: rootNode.clientWidth };\n\n    this.contractTrigger.scrollTop = size.height;\n    this.contractTrigger.scrollLeft = size.width;\n\n    this.expandNotifier.style.width = `${size.width + 1}px`;\n    this.expandNotifier.style.height = `${size.height + 1}px`;\n    this.expandTrigger.scrollTop = 1;\n    this.expandTrigger.scrollLeft = 1;\n\n    const { onSizeChange } = this.props;\n    onSizeChange(size);\n  }\n\n  createListeners() {\n    // eslint-disable-next-line react/no-find-dom-node\n    const rootNode = findDOMNode(this.rootRef.current);\n\n    this.triggersRoot = document.createElement('div');\n    Object.assign(this.triggersRoot.style, styles.triggersRoot);\n    rootNode.appendChild(this.triggersRoot);\n\n    this.expandTrigger = document.createElement('div');\n    Object.assign(this.expandTrigger.style, styles.expandTrigger);\n    this.expandTrigger.addEventListener('scroll', this.setupListeners);\n    this.triggersRoot.appendChild(this.expandTrigger);\n\n    this.expandNotifier = document.createElement('div');\n    this.expandTrigger.appendChild(this.expandNotifier);\n\n    this.contractTrigger = document.createElement('div');\n    Object.assign(this.contractTrigger.style, styles.contractTrigger);\n    this.contractTrigger.addEventListener('scroll', this.setupListeners);\n    this.triggersRoot.appendChild(this.contractTrigger);\n\n    this.contractNotifier = document.createElement('div');\n    Object.assign(this.contractNotifier.style, styles.contractNotifier);\n    this.contractTrigger.appendChild(this.contractNotifier);\n  }\n\n  render() {\n    const {\n      onSizeChange,\n      containerComponent: Container,\n      ...restProps\n    } = this.props;\n\n    return (\n      <RefHolder\n        ref={this.rootRef}\n      >\n        <Container // NOTE: should have `position: relative`\n          {...restProps}\n        />\n      </RefHolder>\n    );\n  }\n}\n\nSizer.propTypes = {\n  onSizeChange: PropTypes.func.isRequired,\n  containerComponent: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n};\n\nSizer.defaultProps = {\n  containerComponent: 'div',\n};\n","import * as React from 'react';\n\nexport const connectProps = (WrappedComponent, getAdditionalProps) => {\n  let storedAdditionalProps = getAdditionalProps();\n  const components = new Set();\n  class RenderComponent extends React.PureComponent {\n    componentDidMount() {\n      components.add(this);\n    }\n\n    componentWillUnmount() {\n      components.delete(this);\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} {...storedAdditionalProps} />;\n    }\n  }\n  RenderComponent.update = () => {\n    storedAdditionalProps = getAdditionalProps();\n    Array.from(components.values()).forEach(component => component.forceUpdate());\n  };\n  return RenderComponent;\n};\n","export const createStateHelper = (component, controlledStateProperties = {}) => {\n  const notifyStateChange = (nextState, state) => {\n    Object.keys(controlledStateProperties).forEach((propertyName) => {\n      const changeEvent = controlledStateProperties[propertyName]();\n      if (changeEvent && nextState[propertyName] !== state[propertyName]) {\n        changeEvent(nextState[propertyName]);\n      }\n    });\n  };\n\n  let lastStateUpdater = null;\n  let initialState = null;\n  let lastInitialState = null;\n  const applyReducer = (reduce, payload, callback) => {\n    const stateUpdater = (prevState) => {\n      if (initialState === null) {\n        initialState = prevState;\n      }\n      const stateChange = reduce({ ...prevState }, payload);\n      const state = { ...prevState, ...stateChange };\n\n      if (typeof callback === 'function') {\n        callback(state, prevState);\n      }\n      if (stateUpdater === lastStateUpdater) {\n        if (lastInitialState !== initialState) {\n          notifyStateChange(state, initialState);\n          lastInitialState = initialState;\n        }\n        initialState = null;\n      }\n\n      return stateChange;\n    };\n    lastStateUpdater = stateUpdater;\n    component.setState(stateUpdater);\n  };\n  const applyFieldReducer = (field, reduce, payload) => {\n    applyReducer(state => ({\n      [field]: reduce(state[field], payload),\n    }));\n  };\n\n  return {\n    applyReducer,\n    applyFieldReducer,\n  };\n};\n","import * as React from 'react';\n\nconst makeBoundComponent = (Target, components, exposed) => {\n  class Component extends React.PureComponent {\n    render() {\n      return <Target {...components} {...this.props} />;\n    }\n  }\n  Component.components = Target.components;\n  Object.assign(Component, exposed);\n  return Component;\n};\n\nexport const withComponents = components => (Target) => {\n  const props = {};\n  const exposed = {};\n  Object.entries(Target.components).forEach(([fieldName, componentName]) => {\n    const component = components[componentName];\n    if (component && component !== Target[componentName]) {\n      props[fieldName] = component;\n    }\n    exposed[componentName] = component || Target[componentName];\n  });\n  return Object.keys(props).length > 0\n    ? makeBoundComponent(Target, props, exposed) : Target;\n};\n"],"names":["PluginHostContext","React","PositionContext","TemplateHostContext","PluginIndexer","children","React.createElement","positionContext","map","child","index","type","childPosition","calculatedPosition","propTypes","PropTypes","defaultProps","undefined","PLUGIN_HOST_CONTEXT","POSITION_CONTEXT","TEMPLATE_HOST_CONTEXT","RERENDER_TEMPLATE_EVENT","Symbol","RERENDER_TEMPLATE_SCOPE_EVENT","UPDATE_CONNECTION_EVENT","withContext","Context","name","Component","props","context","withHostAndPosition","PluginBase","pluginHost","position","dependencies","plugin","container","registerPlugin","ensureDependencies","unregisterPlugin","isRequired","optional","Plugin","TemplatePlaceholderBase","propsName","subscription","id","template","forceUpdate","registerSubscription","nextProps","getRenderingData","params","shallowEqual","unregisterSubscription","templates","collect","filter","predicate","reverse","templateHost","restTemplates","slice","content","templateContent","templatePlaceholder","TemplatePlaceholder","PluginHost","host","PluginHostCore","getAvailableGetters","getGetterValue","getterName","get","trackedDependencies","getters","Proxy","target","prop","result","getOwnPropertyDescriptor","configurable","enumerable","value","ownKeys","knownKeys","reduce","acc","Object","defineProperty","isTrackedDependenciesChanged","prevTrackedDependencies","keys","assign","getAvailableActions","getAction","actionName","actions","ActionBase","action","nextParams","newParams","nextAction","Action","GetterBase","lastComputed","lastTrackedDependencies","lastResult","original","computed","broadcast","Getter","globalTemplateId","TemplateBase","Template","TemplateConnector","updateConnection","contextType","TIMEOUT","TouchStrategy","delegate","touchStartTimeout","dragging","clearTimeout","e","touches","x","clientX","y","clientY","setTimeout","onStart","cancelWaiting","preventDefault","onMove","changedTouches","onEnd","mouseInitialOffset","gestureCover","toggleGestureCover","toggle","cursor","style","pointerEvents","top","right","left","bottom","opacity","zIndex","document","createElement","body","appendChild","forEach","key","BOUNDARY","clamp","min","max","Math","isBoundExceeded","initialX","initialY","MouseStrategy","dragStarted","window","getSelection","removeAllRanges","getComputedStyle","elementFromPoint","eventEmitter","getSharedEventEmitter","EventEmitter","addEventListener","emit","passive","clear","empty","selection","draggingHandled","Draggable","unstable_batchedUpdates","onUpdate","mouseStrategy","touchStrategy","mouseDownListener","bind","touchStartListener","globalListener","subscribe","setupNodeSubscription","unsubscribe","node","findDOMNode","removeEventListener","isWaiting","start","move","end","isDragging","DragDropContext","DragDropProviderCore","payload","dragEmitter","clientOffset","DragDropProvider","onChange","dragDropProvider","DragSource","update","DropTarget","isOver","handleDrag","getBoundingClientRect","onDrop","onEnter","onLeave","onOver","only","RefHolder","styles","triggersRoot","height","width","overflow","visibility","expandTrigger","contractTrigger","minHeight","minWidth","contractNotifier","Sizer","setupListeners","rootRef","createListeners","rootNode","current","size","clientHeight","clientWidth","scrollTop","scrollLeft","expandNotifier","onSizeChange","Container","containerComponent","restProps","connectProps","WrappedComponent","getAdditionalProps","storedAdditionalProps","components","Set","RenderComponent","add","delete","Array","from","values","component","createStateHelper","controlledStateProperties","notifyStateChange","nextState","state","propertyName","changeEvent","lastStateUpdater","initialState","lastInitialState","applyReducer","callback","stateUpdater","prevState","stateChange","setState","applyFieldReducer","field","makeBoundComponent","Target","exposed","withComponents","entries","fieldName","componentName","length"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEO,IAAMA,iBAAiB,GAAGC,aAAA,EAA1B;AACA,IAAMC,eAAe,GAAGD,aAAA,EAAxB;AACA,IAAME,mBAAmB,GAAGF,aAAA,EAA5B;;ACAA,IAAMG,aAAa,GAAG,SAAhBA,aAAgB;MAAGC,QAAH,QAAGA,QAAH;SAC3BC,cAAC,eAAD,CAAiB,QAAjB,QACG,UAAAC,eAAe;WACdN,QAAA,CAAeO,GAAf,CAAmBH,QAAnB,EAA6B,UAACI,KAAD,EAAQC,KAAR,EAAkB;UACzC,CAACD,KAAD,IAAU,CAACA,KAAK,CAACE,IAArB,EAA2B,OAAOF,KAAP;;UAErBG,aAAa,GAAG,SAAhBA,aAAgB,GAAM;YACpBC,kBAAkB,GAAIN,eAAe,IAAIA,eAAe,EAAnC,IAA0C,EAArE;kCACWM,kBAAX,UAA+BH,KAA/B;OAFF;;aAMEJ,cAAC,eAAD,CAAiB,QAAjB;QAA0B,KAAK,EAAEM;SAC9BH,KADH,CADF;KARF,CADc;GADlB,CAD2B;CAAtB;AAqBP,wCAAAL,aAAa,CAACU,SAAd,GAA0B;EACxBT,QAAQ,EAAEU;CADZ;AAIAX,aAAa,CAACY,YAAd,GAA6B;EAC3BX,QAAQ,EAAEY;CADZ;;AC7BO,IAAMC,mBAAmB,GAAG,2BAA5B;AACA,IAAMC,gBAAgB,GAAG,yBAAzB;AACA,IAAMC,qBAAqB,GAAG,6BAA9B;AAEA,IAAMC,uBAAuB,GAAGC,MAAM,CAAC,kBAAD,CAAtC;AACA,IAAMC,6BAA6B,GAAGD,MAAM,CAAC,uBAAD,CAA5C;AACA,IAAME,uBAAuB,GAAGF,MAAM,CAAC,kBAAD,CAAtC;;ICFMG,WAAW,GAAG,SAAdA,WAAc,CAACC,OAAD,EAAUC,IAAV;SAAmB,UAAAC,YAAS;WAAI,UAAAC,KAAK;aAC9DvB,cAAC,OAAD,CAAS,QAAT,QACG,UAAAwB,OAAO;eACNxB,cAACsB,YAAD,eAAeC,KAAf,sBAA6BF,IAA7B,EAAoCG,OAApC,GADM;OADV,CAD8D;KAAT;GAA5B;CAApB;AAQA,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAAH,YAAS;SAAIH,WAAW,CACzDzB,iBADyD,EAEzDkB,mBAFyD,CAAX,CAG9CO,WAAW,CAACvB,eAAD,EAAkBiB,gBAAlB,CAAX,CAA+CS,YAA/C,CAH8C,CAAJ;CAArC;;;ICNMI,UAAb;;AAAA;;;;;;;;;;;wCACsB;wBAC0D,KAAKH,KAD/D;UACaI,UADb,eACTf,mBADS;UAC6CgB,QAD7C,eAC0Bf,gBAD1B;yBAEa,KAAKU,KAFlB;UAEVF,IAFU,gBAEVA,IAFU;UAEJQ,YAFI,gBAEJA,YAFI;WAGbC,MAAL,GAAc;QACZF,QAAQ,EAARA,QADY;QAEZP,IAAI,EAAJA,IAFY;QAGZQ,YAAY,EAAZA,YAHY;QAIZE,SAAS,EAAE;OAJb;MAMAJ,UAAU,CAACK,cAAX,CAA0B,KAAKF,MAA/B;;;;yCAGmB;UACYH,UADZ,GAC2B,KAAKJ,KADhC,CACVX,mBADU;MAEnBe,UAAU,CAACM,kBAAX;;;;2CAGqB;UACUN,UADV,GACyB,KAAKJ,KAD9B,CACZX,mBADY;MAErBe,UAAU,CAACO,gBAAX,CAA4B,KAAKJ,MAAjC;;;;6BAGO;UACC/B,QADD,GACc,KAAKwB,KADnB,CACCxB,QADD;aAGLC,cAAC,aAAD,QACGD,QADH,CADF;;;;;EAzB4BJ,aAAhC;AAiCA,wCAAA+B,UAAU,CAAClB,SAAX,uEACGI,mBADH,EACyBH,MAAA,CAAiB0B,UAD1C,0CAEGtB,gBAFH,EAEsBJ,IAAA,CAAe0B,UAFrC,sDAGY1B,IAAA,CAAe0B,UAH3B,kDAIQ1B,MAJR,0DAKgBA,OAAA,CAAkBA,KAAA,CAAgB;EAC9CY,IAAI,EAAEZ,MADwC;EAE9C2B,QAAQ,EAAE3B;CAFoB,CAAlB,CALhB;AAWAiB,UAAU,CAAChB,YAAX,GAA0B;EACxBW,IAAI,EAAE,EADkB;EAExBQ,YAAY,EAAE;CAFhB;IAKaQ,MAAM,GAAGZ,mBAAmB,CAACC,UAAD,CAAlC;;;IC7CMY,uBAAb;;AAAA;;;mCACcf,KAAZ,EAAmB;;;;;;;iGACXA,KAAN;QACcgB,SAFG,GAEW,MAAKhB,KAFhB,CAETF,IAFS;UAIZmB,YAAL,iEACGzB,uBADH,EAC6B,UAAC0B,EAAD,EAAQ;UAC7B,MAAKC,QAAL,IAAiB,MAAKA,QAAL,CAAcD,EAAd,KAAqBA,EAA1C,EAA8C;cACvCE,WAAL;;KAHN,uCAMG1B,6BANH,EAMmC,UAACI,IAAD,EAAU;UACrCkB,SAAS,KAAKlB,IAAlB,EAAwB;cACjBsB,WAAL;;KARN;;;;;;wCAckB;UACahB,UADb,GAC4B,KAAKJ,KADjC,CACTX,mBADS;MAElBe,UAAU,CAACiB,oBAAX,CAAgC,KAAKJ,YAArC;;;;0CAGoBK,SAxBxB,EAwBmC;kCACZ,KAAKC,gBAAL,CAAsBD,SAAtB,CADY;UACvBE,MADuB,yBACvBA,MADuB;;UAEvBhD,QAFuB,GAEV,KAAKwB,KAFK,CAEvBxB,QAFuB;aAGxB,CAACiD,YAAY,CAACD,MAAD,EAAS,KAAKA,MAAd,CAAb,IAAsChD,QAAQ,KAAK8C,SAAS,CAAC9C,QAApE;;;;2CAGqB;UACU4B,UADV,GACyB,KAAKJ,KAD9B,CACZX,mBADY;MAErBe,UAAU,CAACsB,sBAAX,CAAkC,KAAKT,YAAvC;;;;qCAGejB,KAnCnB,EAmC0B;UACdF,IADc,GACGE,KADH,CACdF,IADc;UACR0B,MADQ,GACGxB,KADH,CACRwB,MADQ;;UAElB1B,IAAJ,EAAU;YACuBM,UADvB,GACsC,KAAKJ,KAD3C,CACCX,mBADD;eAED;UACLmC,MAAM,EAANA,MADK;UAELG,SAAS,EAAEvB,UAAU,CAACwB,OAAX,WAAsB9B,IAAtB,eACR+B,MADQ,CACD,UAAAV,QAAQ;mBAAIA,QAAQ,CAACW,SAAT,CAAmBN,MAAnB,CAAJ;WADP,EAERO,OAFQ;SAFb;;;UAO+BC,YAXX,GAW4B,KAAKhC,KAXjC,CAWbT,qBAXa;aAYf;QACLiC,MAAM,EAAEA,MAAM,IAAIQ,YAAY,CAACR,MAAb,EADb;QAELG,SAAS,EAAEK,YAAY,CAACL,SAAb;OAFb;;;;6BAMO;;;mCACuB,KAAKJ,gBAAL,CAAsB,KAAKvB,KAA3B,CADvB;UACCwB,MADD,0BACCA,MADD;UACSG,SADT,0BACSA,SADT;;WAGFH,MAAL,GAAcA,MAAd;;sCACkBG,SAJX;;WAIDR,QAJC;WAKFc,aAAL,GAAqBN,SAAS,CAACO,KAAV,CAAgB,CAAhB,CAArB;UAEIC,OAAO,GAAG,IAAd;;UACI,KAAKhB,QAAT,EAAmB;YACCiB,eADD,GACqB,KAAKjB,QAD1B,CACT3C,QADS;QAGjB2D,OAAO,GAAGC,eAAe,MAAM,IAA/B;;YACID,OAAO,IAAI,OAAOA,OAAP,KAAmB,UAAlC,EAA8C;UAC5CA,OAAO,GAAGA,OAAO,CAACX,MAAD,CAAjB;;;;UAIca,mBAjBX,GAiBmC,KAAKrC,KAjBxC,CAiBCxB,QAjBD;aAmBLC,cAAC,mBAAD,CAAqB,QAArB;QAA8B,KAAK,EAAE;UACnCkD,SAAS,EAAE;mBAAM,MAAI,CAACM,aAAX;WADwB;UAEnCT,MAAM,EAAE;mBAAM,MAAI,CAACA,MAAX;;;SAGPa,mBAAmB,GAAGA,mBAAmB,CAACF,OAAD,CAAtB,GAAkCA,OALxD,CADF;;;;;EAvEyC/D,SAA7C;AAmFA,wCAAA2C,uBAAuB,CAAC9B,SAAxB;EACEa,IAAI,EAAEZ,MADR;;EAEEsC,MAAM,EAAEtC;0CACPK,qBAHH,EAG2BL,MAH3B,0CAIGG,mBAJH,EAIyBH,MAAA,CAAiB0B,UAJ1C,sDAKY1B,IALZ;AAQA6B,uBAAuB,CAAC5B,YAAxB,yEACGI,qBADH,EAC2BH,SAD3B,mDAEQA,SAFR,qDAGUA,SAHV,uDAIYA,SAJZ;IAOakD,mBAAmB,GAAG1C,WAAW,CAACzB,iBAAD,EAAoBkB,mBAApB,CAAX,CACjCO,WAAW,CAACtB,mBAAD,EAAsBiB,qBAAtB,CAAX,CAAwDwB,uBAAxD,CADiC,CAA5B;;ICrGMwB,YAAb;;AAAA;;;yBACcvC,KAAZ,EAAmB;;;;;uFACXA,KAAN;UAEKwC,IAAL,GAAY,IAAIC,UAAJ,EAAZ;;;;;;6BAGO;UACCjE,QADD,GACc,KAAKwB,KADnB,CACCxB,QADD;aAILC,cAAC,iBAAD,CAAmB,QAAnB;QAA4B,KAAK,EAAE,KAAK+D;SACtC/D,cAAC,aAAD,QACGD,QADH,CADF,EAIEC,cAAC,mBAAD;QAAqB,IAAI,EAAC;QAJ5B,CADF;;;;;EAV4BL,aAAhC;AAqBA,wCAAAmE,YAAU,CAACtD,SAAX,GAAuB;EACrBT,QAAQ,EAAEU;CADZ;AAIAqD,YAAU,CAACpD,YAAX,GAA0B;EACxBX,QAAQ,EAAEY;CADZ;;AC9BO,IAAMsD,mBAAmB,GAAG,SAAtBA,mBAAsB,CACjCtC,UADiC,EAG9B;MADHuC,cACG,uEADc,UAAAC,UAAU;WAAIxC,UAAU,CAACyC,GAAX,WAAkBD,UAAlB,YAAJ;GACxB;MACGE,mBAAmB,GAAG,EAA5B;MAEIC,OAAJ;;MACI,OAAOC,KAAP,KAAiB,WAArB,EAAkC;IAChCD,OAAO,GAAG,IAAIC,KAAJ,CAAU,EAAV,EAAc;MACtBH,GADsB,eAClBI,MADkB,EACVC,IADU,EACJ;YACZ,OAAOA,IAAP,KAAgB,QAApB,EAA8B,OAAO9D,SAAP;YACxB+D,MAAM,GAAGR,cAAc,CAACO,IAAD,CAA7B;QACAJ,mBAAmB,CAACI,IAAD,CAAnB,GAA4BC,MAA5B;eACOA,MAAP;OALoB;MAOtBC,wBAPsB,oCAOGH,MAPH,EAOWC,IAPX,EAOiB;eAC9B;UAAEG,YAAY,EAAE,IAAhB;UAAsBC,UAAU,EAAE,IAAlC;UAAwCC,KAAK,EAAE,KAAKV,GAAL,CAASI,MAAT,EAAiBC,IAAjB;SAAtD;OARoB;MAUtBM,OAVsB,qBAUZ;eACDpD,UAAU,CAACqD,SAAX,CAAqB,QAArB,CAAP;;KAXM,CAAV;GADF,MAeO;IACLV,OAAO,GAAG3C,UAAU,CAACqD,SAAX,CAAqB,QAArB,EACPC,MADO,CACA,UAACC,GAAD,EAAMf,UAAN,EAAqB;MAC3BgB,MAAM,CAACC,cAAP,CAAsBF,GAAtB,EAA2Bf,UAA3B,EAAuC;QACrCC,GAAG,EAAE,eAAM;cACHM,MAAM,GAAGR,cAAc,CAACC,UAAD,CAA7B;UACAE,mBAAmB,CAACF,UAAD,CAAnB,GAAkCO,MAAlC;iBACOA,MAAP;;OAJJ;aAOOQ,GAAP;KATM,EAUL,EAVK,CAAV;;;SAaK;IAAEZ,OAAO,EAAPA,OAAF;IAAWD,mBAAmB,EAAnBA;GAAlB;CApCK;AAuCP,IAAagB,4BAA4B,GAAG,SAA/BA,4BAA+B,CAC1C1D,UAD0C,EAE1C2D,uBAF0C,EAIvC;MADHpB,cACG,uEADc,UAAAC,UAAU;WAAIxC,UAAU,CAACyC,GAAX,WAAkBD,UAAlB,YAAJ;GACxB;MACGE,mBAAmB,GAAGc,MAAM,CAACI,IAAP,CAAYD,uBAAZ,EACzBL,MADyB,CAClB,UAACC,GAAD,EAAMf,UAAN;WAAqBgB,MAAM,CAACK,MAAP,CAAcN,GAAd,sBAC1Bf,UAD0B,EACbD,cAAc,CAACC,UAAD,CADD,EAArB;GADkB,EAGtB,EAHsB,CAA5B;SAKO,CAACnB,YAAY,CAACsC,uBAAD,EAA0BjB,mBAA1B,CAApB;CAVK;AAaA,IAAMoB,mBAAmB,GAAG,SAAtBA,mBAAsB,CACjC9D,UADiC,EAG9B;MADH+D,SACG,uEADS,UAAAC,UAAU;WAAIhE,UAAU,CAACwB,OAAX,WAAsBwC,UAAtB,aAA0ClC,KAA1C,GAAkDH,OAAlD,GAA4D,CAA5D,CAAJ;GACnB;MACCsC,OAAJ;;MACI,OAAOrB,KAAP,KAAiB,WAArB,EAAkC;IAChCqB,OAAO,GAAG,IAAIrB,KAAJ,CAAU,EAAV,EAAc;MACtBH,GADsB,eAClBI,MADkB,EACVC,IADU,EACJ;YACZ,OAAOA,IAAP,KAAgB,QAApB,EAA8B,OAAO9D,SAAP;eACvB+E,SAAS,CAACjB,IAAD,CAAhB;OAHoB;MAKtBE,wBALsB,oCAKGH,MALH,EAKWC,IALX,EAKiB;eAC9B;UAAEG,YAAY,EAAE,IAAhB;UAAsBC,UAAU,EAAE,IAAlC;UAAwCC,KAAK,EAAE,KAAKV,GAAL,CAASI,MAAT,EAAiBC,IAAjB;SAAtD;OANoB;MAQtBM,OARsB,qBAQZ;eACDpD,UAAU,CAACqD,SAAX,CAAqB,QAArB,CAAP;;KATM,CAAV;GADF,MAaO;IACLY,OAAO,GAAGjE,UAAU,CAACqD,SAAX,CAAqB,QAArB,EACPC,MADO,CACA,UAACC,GAAD,EAAMS,UAAN,EAAqB;MAC3BR,MAAM,CAACC,cAAP,CAAsBF,GAAtB,EAA2BS,UAA3B,EAAuC;QACrCvB,GAAG,EAAE;iBAAMsB,SAAS,CAACC,UAAD,CAAf;;OADP;aAGOT,GAAP;KALM,EAML,EANK,CAAV;;;SAQKU,OAAP;CA3BK;;;;IC7CDC;;;;;sBACQtE,KAAZ,EAAmB;;;;;oFACXA,KAAN;QAE+BI,UAHd,GAGkEJ,KAHlE,CAGRX,mBAHQ;QAG8CX,eAH9C,GAGkEsB,KAHlE,CAG2BV,gBAH3B;QAITQ,IAJS,GAIAE,KAJA,CAITF,IAJS;UAMZS,MAAL;MACEF,QAAQ,EAAE;eAAM3B,eAAe,EAArB;;iBACNoB,IAFN,aAEqB,gBAAC0B,MAAD,EAAY;UACrB+C,MADqB,GACV,MAAKvE,KADK,CACrBuE,MADqB;;iCAET7B,mBAAmB,CACrCtC,UADqC,EAErC,UAAAwC,UAAU;eAAIxC,UAAU,CAACyC,GAAX,WAAkBD,UAAlB,aAAsC,MAAKrC,MAA3C,CAAJ;OAF2B,CAFV;UAErBwC,OAFqB,wBAErBA,OAFqB;;UAMzByB,UAAU,GAAGhD,MAAjB;UACM6C,OAAO,GAAGH,mBAAmB,CACjC9D,UADiC,EAEjC,UAAAgE,UAAU;eAAKA,UAAU,KAAKtE,IAAf,GACX,UAAC2E,SAAD,EAAe;UAAED,UAAU,GAAGC,SAAb;SADN,GAEXrE,UAAU,CAACwB,OAAX,WAAsBwC,UAAtB,aAA0C,MAAK7D,MAA/C,EAAuD2B,KAAvD,GAA+DH,OAA/D,GAAyE,CAAzE,CAFM;OAFuB,CAAnC;MAMAwC,MAAM,CAAC/C,MAAD,EAASuB,OAAT,EAAkBsB,OAAlB,CAAN;UACMK,UAAU,GAAGtE,UAAU,CAACwB,OAAX,WAAsB9B,IAAtB,aAAoC,MAAKS,MAAzC,EAAiD2B,KAAjD,GAAyDH,OAAzD,GAAmE,CAAnE,CAAnB;;UACI2C,UAAJ,EAAgB;QACdA,UAAU,CAACF,UAAD,CAAV;;KAlBN;IAuBApE,UAAU,CAACK,cAAX,CAA0B,MAAKF,MAA/B;;;;;;2CAGqB;UACUH,UADV,GACyB,KAAKJ,KAD9B,CACZX,mBADY;MAGrBe,UAAU,CAACO,gBAAX,CAA4B,KAAKJ,MAAjC;;;;6BAGO;aACA,IAAP;;;;;EAxCqBnC;;AA4CzB,wCAAAkG,UAAU,CAACrF,SAAX;EACEa,IAAI,EAAEZ,MAAA,CAAiB0B,UADzB;EAEE2D,MAAM,EAAErF,IAAA,CAAe0B;0CACtBvB,mBAHH,EAGyBH,MAAA,CAAiB0B,UAH1C,0CAIGtB,gBAJH,EAIsBJ,IAAA,CAAe0B,UAJrC;IAOa+D,MAAM,GAAGzE,mBAAmB,CAACoE,UAAD,CAAlC;;;;IClDDM;;;;;sBACQ5E,KAAZ,EAAmB;;;;;oFACXA,KAAN;QAE+BI,UAHd,GAGkEJ,KAHlE,CAGRX,mBAHQ;QAG8CX,eAH9C,GAGkEsB,KAHlE,CAG2BV,gBAH3B;QAITQ,IAJS,GAIAE,KAJA,CAITF,IAJS;QAMb+E,YAAJ;QACIC,uBAAuB,GAAG,EAA9B;QACIC,UAAJ;UAEKxE,MAAL;MACEF,QAAQ,EAAE;eAAM3B,eAAe,EAArB;;iBACNoB,IAFN,aAEqB,gBAACkF,QAAD,EAAc;wBACH,MAAKhF,KADF;UACvBuD,KADuB,eACvBA,KADuB;UAChB0B,QADgB,eAChBA,QADgB;UAE3BA,QAAQ,KAAK7F,SAAjB,EAA4B,OAAOmE,KAAP;;UAEtBZ,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,UAAU;eAAMA,UAAU,KAAK9C,IAAhB,GAClCkF,QADkC,GAElC5E,UAAU,CAACyC,GAAX,WAAkBD,UAAlB,aAAsC,MAAKrC,MAA3C,CAF6B;OAAjC;;UAII0E,QAAQ,KAAKJ,YAAb,IACC,CAACf,4BAA4B,CAAC1D,UAAD,EAAa0E,uBAAb,EAAsCnC,cAAtC,CADlC,EACyF;eAChFoC,UAAP;;;iCAGuCrC,mBAAmB,CAACtC,UAAD,EAAauC,cAAb,CAb7B;UAavBI,OAbuB,wBAavBA,OAbuB;UAadD,mBAbc,wBAadA,mBAbc;;UAczBuB,OAAO,GAAGH,mBAAmB,CAAC9D,UAAD,CAAnC;MAEAyE,YAAY,GAAGI,QAAf;MACAH,uBAAuB,GAAGhC,mBAA1B;MACAiC,UAAU,GAAGE,QAAQ,CAAClC,OAAD,EAAUsB,OAAV,CAArB;aACOU,UAAP;KArBJ;IAyBA3E,UAAU,CAACK,cAAX,CAA0B,MAAKF,MAA/B;;;;;;yCAGmB;UACYH,UADZ,GAC2B,KAAKJ,KADhC,CACVX,mBADU;MAGnBe,UAAU,CAAC8E,SAAX,CAAqBvF,uBAArB;;;;2CAGqB;UACUS,UADV,GACyB,KAAKJ,KAD9B,CACZX,mBADY;MAGrBe,UAAU,CAACO,gBAAX,CAA4B,KAAKJ,MAAjC;;;;6BAGO;aACA,IAAP;;;;;EApDqBnC;;AAwDzB,wCAAAwG,UAAU,CAAC3F,SAAX;EACEa,IAAI,EAAEZ,MAAA,CAAiB0B,UADzB;EAEE2C,KAAK,EAAErE,GAFT;EAGE+F,QAAQ,EAAE/F;0CACTG,mBAJH,EAIyBH,MAAA,CAAiB0B,UAJ1C,0CAKGtB,gBALH,EAKsBJ,IAAA,CAAe0B,UALrC;AAQAgE,UAAU,CAACzF,YAAX,GAA0B;EACxBoE,KAAK,EAAEnE,SADiB;EAExB6F,QAAQ,EAAE7F;CAFZ;IAKa+F,MAAM,GAAGjF,mBAAmB,CAAC0E,UAAD,CAAlC;;;ACvEP,IAAIQ,gBAAgB,GAAG,CAAvB;;IACMC;;;;;wBACQrF,KAAZ,EAAmB;;;;;sFACXA,KAAN;IAEAoF,gBAAgB,IAAI,CAApB;UACKlE,EAAL,GAAUkE,gBAAV;QAE+BhF,UANd,GAMkEJ,KANlE,CAMRX,mBANQ;QAM8CX,eAN9C,GAMkEsB,KANlE,CAM2BV,gBAN3B;QAOTQ,IAPS,GAOWE,KAPX,CAOTF,IAPS;QAOHgC,UAPG,GAOW9B,KAPX,CAOH8B,SAPG;UASZvB,MAAL;MACEF,QAAQ,EAAE;eAAM3B,eAAe,EAArB;;iBACNoB,IAFN,eAEuB;MACnBoB,EAAE,EAAE,MAAKA,EADU;MAEnBY,SAAS,EAAE,mBAAAN,MAAM;eAAKM,UAAS,GAAGA,UAAS,CAACN,MAAD,CAAZ,GAAuB,IAArC;OAFE;MAGnBhD,QAAQ,EAAE,oBAAM;YACNA,QADM,GACO,MAAKwB,KADZ,CACNxB,QADM;eAEPA,QAAP;;KAPN;IAWA4B,UAAU,CAACK,cAAX,CAA0B,MAAKF,MAA/B;IACAH,UAAU,CAAC8E,SAAX,CAAqBxF,6BAArB,EAAoDI,IAApD;;;;;;yCAGmB;UACYM,UADZ,GAC2B,KAAKJ,KADhC,CACVX,mBADU;MAEnBe,UAAU,CAAC8E,SAAX,CAAqB1F,uBAArB,EAA8C,KAAK0B,EAAnD;;;;2CAGqB;UACUd,UADV,GACyB,KAAKJ,KAD9B,CACZX,mBADY;UAEbS,IAFa,GAEJ,KAAKE,KAFD,CAEbF,IAFa;MAGrBM,UAAU,CAACO,gBAAX,CAA4B,KAAKJ,MAAjC;MACAH,UAAU,CAAC8E,SAAX,CAAqBxF,6BAArB,EAAoDI,IAApD;;;;6BAGO;aACA,IAAP;;;;;EAtCuB1B;;AA0C3B,wCAAAiH,YAAY,CAACpG,SAAb,uEACGI,mBADH,EACyBH,MAAA,CAAiB0B,UAD1C,0CAEGtB,gBAFH,EAEsBJ,IAAA,CAAe0B,UAFrC,kDAGQ1B,MAAA,CAAiB0B,UAHzB,uDAIa1B,IAJb,sDAKYA,SAAA,CAAoB,CAC5BA,IAD4B,EAE5BA,IAF4B,CAApB,CALZ;AAWAmG,YAAY,CAAClG,YAAb,GAA4B;EAC1B2C,SAAS,EAAE1C,SADe;EAE1BZ,QAAQ,EAAEY;CAFZ;IAKakG,QAAQ,GAAGpF,mBAAmB,CAACmF,YAAD,CAApC;;ICzDME,iBAAb;;AAAA;;;6BACcvF,KAAZ,EAAmBC,OAAnB,EAA4B;;;;;2FACpBD,KAAN,EAAaC,OAAb;UAEK6C,mBAAL,GAA2B,EAA3B;UACK7B,YAAL,uBACGtB,uBADH,EAC6B;aAAM,MAAK6F,gBAAL,EAAN;KAD7B;;;;;;wCAKkB;UACZpF,UAAU,GAAG,KAAKH,OAAxB;MACAG,UAAU,CAACiB,oBAAX,CAAgC,KAAKJ,YAArC;;;;2CAGqB;UACfb,UAAU,GAAG,KAAKH,OAAxB;MACAG,UAAU,CAACsB,sBAAX,CAAkC,KAAKT,YAAvC;;;;uCAGiB;UACXb,UAAU,GAAG,KAAKH,OAAxB;;UAEI6D,4BAA4B,CAAC1D,UAAD,EAAa,KAAK0C,mBAAlB,CAAhC,EAAwE;aACjE1B,WAAL;;;;;6BAIK;UACDhB,UAAU,GAAG,KAAKH,OAAxB;UACQzB,QAFD,GAEc,KAAKwB,KAFnB,CAECxB,QAFD;;iCAIkCkE,mBAAmB,CAACtC,UAAD,CAJrD;UAIC2C,OAJD,wBAICA,OAJD;UAIUD,mBAJV,wBAIUA,mBAJV;;WAKFA,mBAAL,GAA2BA,mBAA3B;UACMuB,OAAO,GAAGH,mBAAmB,CAAC9D,UAAD,CAAnC;aAEO5B,QAAQ,CAACuE,OAAD,EAAUsB,OAAV,CAAf;;;;;EApCmCjG,SAAvC;AAwCA,wCAAAmH,iBAAiB,CAACtG,SAAlB,GAA8B;EAC5BT,QAAQ,EAAEU,IAAA,CAAe0B;CAD3B;AAIA2E,iBAAiB,CAACE,WAAlB,GAAgCtH,iBAAhC;;ACtDA,IAAMuH,OAAO,GAAG,GAAhB;IAEaC,aAAb;;AAAA;yBACcC,QAAZ,EAAsB;;;SACfA,QAAL,GAAgBA,QAAhB;SACKC,iBAAL,GAAyB,IAAzB;SACKC,QAAL,GAAgB,KAAhB;;;;;iCAGW;aACJ,KAAKA,QAAZ;;;;gCAGU;aACH,CAAC,CAAC,KAAKD,iBAAd;;;;oCAGc;MACdE,YAAY,CAAC,KAAKF,iBAAN,CAAZ;WACKA,iBAAL,GAAyB,IAAzB;;;;0BAGIG,CApBR,EAoBW;;;wBAC4BA,CAAC,CAACC,OAAF,CAAU,CAAV,CAD5B;UACUC,CADV,eACCC,OADD;UACsBC,CADtB,eACaC,OADb;WAEFR,iBAAL,GAAyBS,UAAU,CAAC,YAAM;QACxC,KAAI,CAACV,QAAL,CAAcW,OAAd,CAAsB;UAAEL,CAAC,EAADA,CAAF;UAAKE,CAAC,EAADA;SAA3B;;QACA,KAAI,CAACN,QAAL,GAAgB,IAAhB;OAFiC,EAGhCJ,OAHgC,CAAnC;;;;yBAMGM,CA5BP,EA4BU;WACDQ,aAAL;;UACI,KAAKV,QAAT,EAAmB;2BACYE,CAAC,CAACC,OAAF,CAAU,CAAV,CADZ;YACTE,OADS,gBACTA,OADS;YACAE,OADA,gBACAA,OADA;QAEjBL,CAAC,CAACS,cAAF;aACKb,QAAL,CAAcc,MAAd,CAAqB;UAAER,CAAC,EAAEC,OAAL;UAAcC,CAAC,EAAEC;SAAtC;;;;;wBAIAL,CArCN,EAqCS;WACAQ,aAAL;;UACI,KAAKV,QAAT,EAAmB;iCACYE,CAAC,CAACW,cAAF,CAAiB,CAAjB,CADZ;YACTR,OADS,sBACTA,OADS;YACAE,OADA,sBACAA,OADA;aAEZT,QAAL,CAAcgB,KAAd,CAAoB;UAAEV,CAAC,EAAEC,OAAL;UAAcC,CAAC,EAAEC;SAArC;;;WAEGQ,kBAAL,GAA0B,IAA1B;WACKf,QAAL,GAAgB,KAAhB;;;;;;;;AC5CJ,IAAIgB,YAAY,GAAG,IAAnB;AACA,IAAaC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,MAAD,EAASC,MAAT,EAAoB;MAChDC,KAAK,GAAG;IACVC,aAAa,EAAEH,MAAM,GAAG,KAAH,GAAW;GADlC;;MAGIA,MAAM,IAAIC,MAAd,EAAsB;IACpBC,KAAK,qBACAA,KADA;MAEHD,MAAM,EAANA;MAFF;;;MAKE,CAACH,YAAL,EAAmB;IACjBI,KAAK,qBACAA,KADA;MAEH7G,QAAQ,EAAE,OAFP;MAGH+G,GAAG,EAAE,CAHF;MAIHC,KAAK,EAAE,CAJJ;MAKHC,IAAI,EAAE,CALH;MAMHC,MAAM,EAAE,CANL;MAOHC,OAAO,EAAE,CAPN;MAQHC,MAAM,EAAE;MARV;IAWAX,YAAY,GAAGY,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAf;IACAD,QAAQ,CAACE,IAAT,CAAcC,WAAd,CAA0Bf,YAA1B;;;EAEFlD,MAAM,CAACI,IAAP,CAAYkD,KAAZ,EAAmBY,OAAnB,CAA2B,UAACC,GAAD,EAAS;IAAEjB,YAAY,CAACI,KAAb,CAAmBa,GAAnB,IAA0Bb,KAAK,CAACa,GAAD,CAA/B;GAAtC;CAzBK;;ACCP,IAAMC,QAAQ,GAAG,EAAjB;;AACA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAAC1E,KAAD,EAAQ2E,GAAR,EAAaC,GAAb;SAAqBC,IAAI,CAACD,GAAL,CAASC,IAAI,CAACF,GAAL,CAAS3E,KAAT,EAAgB4E,GAAhB,CAAT,EAA+BD,GAA/B,CAArB;CAAd;;AACA,IAAMG,eAAe,GAAG,SAAlBA,eAAkB;MACjBC,QADiB,QACpBpC,CADoB;MACJqC,QADI,QACPnC,CADO;MACUF,CADV,SACUA,CADV;MACaE,CADb,SACaA,CADb;SAEnB6B,KAAK,CAAC/B,CAAD,EAAIoC,QAAQ,GAAGN,QAAf,EAAyBM,QAAQ,GAAGN,QAApC,CAAL,KAAuD9B,CAAvD,IACA+B,KAAK,CAAC7B,CAAD,EAAImC,QAAQ,GAAGP,QAAf,EAAyBO,QAAQ,GAAGP,QAApC,CAAL,KAAuD5B,CAHpC;CAAxB;;IAKaoC,aAAb;;AAAA;yBACc5C,QAAZ,EAAsB;;;SACfA,QAAL,GAAgBA,QAAhB;SACKiB,kBAAL,GAA0B,IAA1B;SACKf,QAAL,GAAgB,KAAhB;;;;;iCAGW;aACJ,KAAKA,QAAZ;;;;0BAGIE,CAXR,EAWW;UACUE,CADV,GAC4BF,CAD5B,CACCG,OADD;UACsBC,CADtB,GAC4BJ,CAD5B,CACaK,OADb;WAEFL,CAAL,GAASA,CAAT;WACKa,kBAAL,GAA0B;QAAEX,CAAC,EAADA,CAAF;QAAKE,CAAC,EAADA;OAA/B;;;;yBAGGJ,CAjBP,EAiBU;UACWE,CADX,GAC6BF,CAD7B,CACEG,OADF;UACuBC,CADvB,GAC6BJ,CAD7B,CACcK,OADd;UAEFoC,WAAW,GAAG,KAAlB;;UACI,CAAC,KAAK3C,QAAN,IAAkB,KAAKe,kBAA3B,EAA+C;YACzCwB,eAAe,CAAC,KAAKxB,kBAAN,EAA0B;UAAEX,CAAC,EAADA,CAAF;UAAKE,CAAC,EAADA;SAA/B,CAAnB,EAAwD;eACjDR,QAAL,CAAcW,OAAd,CAAsB,KAAKM,kBAA3B;;cACI6B,MAAM,CAACC,YAAX,EAAyB;YACvBD,MAAM,CAACC,YAAP,GAAsBC,eAAtB;;;UAEFH,WAAW,GAAG,IAAd;eACK3C,QAAL,GAAgB,IAAhB;;;;UAGA,KAAKA,QAAT,EAAmB;QACjBE,CAAC,CAACS,cAAF;aACKb,QAAL,CAAcc,MAAd,CAAqB;UAAER,CAAC,EAADA,CAAF;UAAKE,CAAC,EAADA;SAA1B;;;UAEEqC,WAAJ,EAAiB;oCACIC,MAAM,CAACG,gBAAP,CAAwBnB,QAAQ,CAACoB,gBAAT,CAA0B5C,CAA1B,EAA6BE,CAA7B,CAAxB,CADJ;YACPa,MADO,yBACPA,MADO;;QAEfF,kBAAkB,CAAC,IAAD,EAAOE,MAAP,CAAlB;;;;;wBAIAjB,CAxCN,EAwCS;UACD,KAAKF,QAAT,EAAmB;YACAI,CADA,GACkBF,CADlB,CACTG,OADS;YACYC,CADZ,GACkBJ,CADlB,CACGK,OADH;QAEjBU,kBAAkB,CAAC,KAAD,CAAlB;aACKnB,QAAL,CAAcgB,KAAd,CAAoB;UAAEV,CAAC,EAADA,CAAF;UAAKE,CAAC,EAADA;SAAzB;;;WAEGS,kBAAL,GAA0B,IAA1B;WACKf,QAAL,GAAgB,KAAhB;;;;;;;AC1DJ;AAIA,IAAIiD,YAAY,GAAG,IAAnB;AACO,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;MACrC,CAACD,YAAL,EAAmB;IACjBA,YAAY,GAAG,IAAIE,YAAJ,EAAf;KAEC,WAAD,EAAc,SAAd,EAAyB,WAAzB,EAAsC,UAAtC,EAAkD,aAAlD,EACGnB,OADH,CACW,UAAAhI,IAAI;aAAI4I,MAAM,CAACQ,gBAAP,CACfpJ,IADe,EACT,UAAAkG,CAAC;eAAI+C,YAAY,CAACI,IAAb,CAAkB,CAACrJ,IAAD,EAAOkG,CAAP,CAAlB,CAAJ;OADQ,EAC0B;QAAEoD,OAAO,EAAE;OADrC,CAAJ;KADf;;;SAKKL,YAAP;CATK;;ACLP;AAEO,IAAMM,KAAK,GAAG,SAARA,KAAQ,GAAM;MACrBX,MAAM,CAACC,YAAX,EAAyB;QACnBD,MAAM,CAACC,YAAP,GAAsBW,KAA1B,EAAiC;MAC/BZ,MAAM,CAACC,YAAP,GAAsBW,KAAtB;KADF,MAEO,IAAIZ,MAAM,CAACC,YAAP,GAAsBC,eAA1B,EAA2C;MAChDF,MAAM,CAACC,YAAP,GAAsBC,eAAtB;;GAJJ,MAMO,IAAIlB,QAAQ,CAAC6B,SAAb,EAAwB;IAC7B7B,QAAQ,CAAC6B,SAAT,CAAmBD,KAAnB;;CARG;;ACOP,IAAME,eAAe,GAAG/J,MAAM,CAAC,iBAAD,CAA9B;IAEagK,SAAb;;AAAA;;;qBACczJ,KAAZ,EAAmBC,OAAnB,EAA4B;;;;;mFACpBD,KAAN,EAAaC,OAAb;QAEM2F,QAAQ,GAAG;MACfW,OAAO,EAAE,uBAAc;YAAXL,CAAW,QAAXA,CAAW;YAARE,CAAQ,QAARA,CAAQ;YACbG,OADa,GACD,MAAKvG,KADJ,CACbuG,OADa;YAEjB,CAACA,OAAL,EAAc;QACdmD,uBAAuB,CAAC,YAAM;UAC5BnD,OAAO,CAAC;YAAEL,CAAC,EAADA,CAAF;YAAKE,CAAC,EAADA;WAAN,CAAP;SADqB,CAAvB;OAJa;MAQfM,MAAM,EAAE,uBAAc;YAAXR,CAAW,SAAXA,CAAW;YAARE,CAAQ,SAARA,CAAQ;YACZuD,QADY,GACC,MAAK3J,KADN,CACZ2J,QADY;YAEhB,CAACA,QAAL,EAAe;QACfD,uBAAuB,CAAC,YAAM;UAC5BC,QAAQ,CAAC;YAAEzD,CAAC,EAADA,CAAF;YAAKE,CAAC,EAADA;WAAN,CAAR;SADqB,CAAvB;OAXa;MAefQ,KAAK,EAAE,sBAAc;YAAXV,CAAW,SAAXA,CAAW;YAARE,CAAQ,SAARA,CAAQ;YACXQ,KADW,GACD,MAAK5G,KADJ,CACX4G,KADW;YAEf,CAACA,KAAL,EAAY;QACZ8C,uBAAuB,CAAC,YAAM;UAC5B9C,KAAK,CAAC;YAAEV,CAAC,EAADA,CAAF;YAAKE,CAAC,EAADA;WAAN,CAAL;SADqB,CAAvB;;KAlBJ;UAwBKwD,aAAL,GAAqB,IAAIpB,aAAJ,CAAkB5C,QAAlB,CAArB;UACKiE,aAAL,GAAqB,IAAIlE,aAAJ,CAAkBC,QAAlB,CAArB;UAEKkE,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBC,IAAvB,uDAAzB;UACKC,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBD,IAAxB,uDAA1B;UACKE,cAAL,GAAsB,MAAKA,cAAL,CAAoBF,IAApB,uDAAtB;;;;;;wCAGkB;MAClBf,qBAAqB,GAAGkB,SAAxB,CAAkC,KAAKD,cAAvC;WACKE,qBAAL;;;;0CAGoB7I,SAzCxB,EAyCmC;UACvB9C,QADuB,GACV,KAAKwB,KADK,CACvBxB,QADuB;aAExB8C,SAAS,CAAC9C,QAAV,KAAuBA,QAA9B;;;;yCAGmB;WACd2L,qBAAL;;;;2CAGqB;MACrBnB,qBAAqB,GAAGoB,WAAxB,CAAoC,KAAKH,cAAzC;;;;4CAGsB;;UAEhBI,OAAI,GAAGC,WAAW,CAAC,IAAD,CAAxB;UACI,CAACD,OAAL,EAAW;MACXA,OAAI,CAACE,mBAAL,CAAyB,WAAzB,EAAsC,KAAKT,iBAA3C;MACAO,OAAI,CAACE,mBAAL,CAAyB,YAAzB,EAAuC,KAAKP,kBAA5C;MACAK,OAAI,CAACnB,gBAAL,CAAsB,WAAtB,EAAmC,KAAKY,iBAAxC,EAA2D;QAAEV,OAAO,EAAE;OAAtE;MACAiB,OAAI,CAACnB,gBAAL,CAAsB,YAAtB,EAAoC,KAAKc,kBAAzC,EAA6D;QAAEZ,OAAO,EAAE;OAAxE;;;;sCAGgBpD,CAhEpB,EAgEuB;UACf,KAAK6D,aAAL,CAAmBW,SAAnB,MAAkCxE,CAAC,CAACwD,eAAD,CAAvC,EAA0D;WACrDI,aAAL,CAAmBa,KAAnB,CAAyBzE,CAAzB;MACAA,CAAC,CAACwD,eAAD,CAAD,GAAqB,IAArB;;;;uCAGiBxD,CAtErB,EAsEwB;UAChBA,CAAC,CAACwD,eAAD,CAAL,EAAwB;WACnBK,aAAL,CAAmBY,KAAnB,CAAyBzE,CAAzB;MACAA,CAAC,CAACwD,eAAD,CAAD,GAAqB,IAArB;;;;0CAGwB;;UAAV1J,IAAU;UAAJkG,CAAI;;cAChBlG,IAAR;aACO,WAAL;eACO8J,aAAL,CAAmBc,IAAnB,CAAwB1E,CAAxB;;;aAEG,SAAL;eACO4D,aAAL,CAAmBe,GAAnB,CAAuB3E,CAAvB;;;aAEG,WAAL;;iBACO6D,aAAL,CAAmBa,IAAnB,CAAwB1E,CAAxB;;;;aAGG,UAAL;aACK,aAAL;;iBACO6D,aAAL,CAAmBc,GAAnB,CAAuB3E,CAAvB;;;;;;;;UAMA,KAAK4D,aAAL,CAAmBgB,UAAnB,MAAmC,KAAKf,aAAL,CAAmBe,UAAnB,EAAvC,EAAwE;QACtEvB,KAAK;;;;;6BAIA;UACC7K,QADD,GACc,KAAKwB,KADnB,CACCxB,QADD;aAEAA,QAAP;;;;;EAvG2BJ,SAA/B;AA2GA,wCAAAqL,SAAS,CAACxK,SAAV,GAAsB;EACpBT,QAAQ,EAAEU,IAAA,CAAe0B,UADL;EAEpB2F,OAAO,EAAErH,IAFW;EAGpByK,QAAQ,EAAEzK,IAHU;EAIpB0H,KAAK,EAAE1H;CAJT;AAOAuK,SAAS,CAACtK,YAAV,GAAyB;EACvBoH,OAAO,EAAEnH,SADc;EAEvBuK,QAAQ,EAAEvK,SAFa;EAGvBwH,KAAK,EAAExH;CAHT;;AC3HO,IAAMyL,eAAe,GAAGzM,aAAA,EAAxB;;ICID0M;;;kCACU;;;SACPC,OAAL,GAAe,IAAf;SACKC,WAAL,GAAmB,IAAI/B,YAAJ,EAAnB;;;;;0BAGI8B,SAASE,cAAc;WACtBF,OAAL,GAAeA,OAAf;WACKC,WAAL,CAAiB7B,IAAjB,CAAsB;QAAE4B,OAAO,EAAE,KAAKA,OAAhB;QAAyBE,YAAY,EAAZA;OAA/C;;;;2BAGKA,cAAc;WACdD,WAAL,CAAiB7B,IAAjB,CAAsB;QAAE4B,OAAO,EAAE,KAAKA,OAAhB;QAAyBE,YAAY,EAAZA;OAA/C;;;;wBAGEA,cAAc;WACXD,WAAL,CAAiB7B,IAAjB,CAAsB;QAAE4B,OAAO,EAAE,KAAKA,OAAhB;QAAyBE,YAAY,EAAZA,YAAzB;QAAuCN,GAAG,EAAE;OAAlE;WACKI,OAAL,GAAe,IAAf;;;;;;;IAISG,gBAAb;;AAAA;;;4BACclL,KAAZ,EAAmB;;;;;0FACXA,KAAN;QACQmL,QAFS,GAEI,MAAKnL,KAFT,CAETmL,QAFS;UAIZC,gBAAL,GAAwB,IAAIN,oBAAJ,EAAxB;;UAEKM,gBAAL,CAAsBJ,WAAtB,CAAkCd,SAAlC,CAA4C,gBAAoC;UAAjCa,OAAiC,QAAjCA,OAAiC;UAAxBE,YAAwB,QAAxBA,YAAwB;UAAVN,GAAU,QAAVA,GAAU;MAC9EQ,QAAQ,CAAC;QACPJ,OAAO,EAAEJ,GAAG,GAAG,IAAH,GAAUI,OADf;QAEPE,YAAY,EAAEN,GAAG,GAAG,IAAH,GAAUM;OAFrB,CAAR;KADF;;;;;;;0CAQoB3J,SAfxB,EAemC;UACvB9C,QADuB,GACV,KAAKwB,KADK,CACvBxB,QADuB;aAExB8C,SAAS,CAAC9C,QAAV,KAAuBA,QAA9B;;;;6BAGO;UACCA,QADD,GACc,KAAKwB,KADnB,CACCxB,QADD;aAGLC,cAAC,eAAD,CAAiB,QAAjB;QAA0B,KAAK,EAAE,KAAK2M;SACnC5M,QADH,CADF;;;;;EAtBkCJ,SAAtC;AA8BA,wCAAA8M,gBAAgB,CAACjM,SAAjB,GAA6B;EAC3BT,QAAQ,EAAEU,IAAA,CAAe0B,UADE;EAE3BuK,QAAQ,EAAEjM;CAFZ;AAKAgM,gBAAgB,CAAC/L,YAAjB,GAAgC;EAC9BgM,QAAQ,EAAE,oBAAM;CADlB;;ICzDaE,UAAb;;AAAA;;;;;;;;;;;0CACwB/J,SADxB,EACmC;UACvB9C,QADuB,GACV,KAAKwB,KADK,CACvBxB,QADuB;aAExB8C,SAAS,CAAC9C,QAAV,KAAuBA,QAA9B;;;;6BAGO;UACD4M,gBAAgB,GAAG,KAAKnL,OAA9B;wBAGI,KAAKD,KAJF;UAGLuG,QAHK,eAGLA,OAHK;UAGIoD,SAHJ,eAGIA,QAHJ;UAGc/C,MAHd,eAGcA,KAHd;UAGqBmE,OAHrB,eAGqBA,OAHrB;UAG8BvM,QAH9B,eAG8BA,QAH9B;aAMLC,cAAC,SAAD;QACE,OAAO,EAAE,uBAAc;cAAXyH,CAAW,QAAXA,CAAW;cAARE,CAAQ,QAARA,CAAQ;UACrBgF,gBAAgB,CAACX,KAAjB,CAAuBM,OAAvB,EAAgC;YAAE7E,CAAC,EAADA,CAAF;YAAKE,CAAC,EAADA;WAArC;;UACAG,QAAO,CAAC;YAAE0E,YAAY,EAAE;cAAE/E,CAAC,EAADA,CAAF;cAAKE,CAAC,EAADA;;WAAtB,CAAP;SAHJ;QAKE,QAAQ,EAAE,yBAAc;cAAXF,CAAW,SAAXA,CAAW;cAARE,CAAQ,SAARA,CAAQ;UACtBgF,gBAAgB,CAACE,MAAjB,CAAwB;YAAEpF,CAAC,EAADA,CAAF;YAAKE,CAAC,EAADA;WAA7B;;UACAuD,SAAQ,CAAC;YAAEsB,YAAY,EAAE;cAAE/E,CAAC,EAADA,CAAF;cAAKE,CAAC,EAADA;;WAAtB,CAAR;SAPJ;QASE,KAAK,EAAE,sBAAc;cAAXF,CAAW,SAAXA,CAAW;cAARE,CAAQ,SAARA,CAAQ;UACnBgF,gBAAgB,CAACT,GAAjB,CAAqB;YAAEzE,CAAC,EAADA,CAAF;YAAKE,CAAC,EAADA;WAA1B;;UACAQ,MAAK,CAAC;YAAEqE,YAAY,EAAE;cAAE/E,CAAC,EAADA,CAAF;cAAKE,CAAC,EAADA;;WAAtB,CAAL;;SAGD5H,QAdH,CADF;;;;;EAX4BJ,SAAhC;AA+BAiN,UAAU,CAAC5F,WAAX,GAAyBoF,eAAzB;AAEA,wCAAAQ,UAAU,CAACpM,SAAX,GAAuB;EACrBT,QAAQ,EAAEU,IAAA,CAAe0B,UADJ;EAErBmK,OAAO,EAAE7L,GAAA,CAAc0B,UAFF;EAGrB2F,OAAO,EAAErH,IAHY;EAIrByK,QAAQ,EAAEzK,IAJW;EAKrB0H,KAAK,EAAE1H;CALT;AAQAmM,UAAU,CAAClM,YAAX,GAA0B;EACxBoH,OAAO,EAAE,mBAAM,EADS;EAExBoD,QAAQ,EAAE,oBAAM,EAFQ;EAGxB/C,KAAK,EAAE,iBAAM;CAHf;;ICzCMqB,OAAK,GAAG,SAARA,KAAQ,CAAC1E,KAAD,EAAQ2E,GAAR,EAAaC,GAAb;SAAqBC,IAAI,CAACD,GAAL,CAASC,IAAI,CAACF,GAAL,CAAS3E,KAAT,EAAgB4E,GAAhB,CAAT,EAA+BD,GAA/B,CAArB;CAAd;;IAEaqD,UAAb;;AAAA;;;sBACcvL,KAAZ,EAAmB;;;;;oFACXA,KAAN;UAEKqK,IAAL,GAAY,IAAZ;UACKmB,MAAL,GAAc,KAAd;UAEKC,UAAL,GAAkB,MAAKA,UAAL,CAAgB1B,IAAhB,uDAAlB;;;;;;wCAGkB;UACViB,WADU,GACM,KAAK/K,OADX,CACV+K,WADU;MAElBA,WAAW,CAACd,SAAZ,CAAsB,KAAKuB,UAA3B;;;;0CAGoBnK,SAfxB,EAemC;UACvB9C,QADuB,GACV,KAAKwB,KADK,CACvBxB,QADuB;aAExB8C,SAAS,CAAC9C,QAAV,KAAuBA,QAA9B;;;;2CAGqB;UACbwM,WADa,GACG,KAAK/K,OADR,CACb+K,WADa;MAErBA,WAAW,CAACZ,WAAZ,CAAwB,KAAKqB,UAA7B;;;;qCAGyC;UAA9BV,OAA8B,QAA9BA,OAA8B;UAArBE,YAAqB,QAArBA,YAAqB;UAAPN,GAAO,QAAPA,GAAO;;kCAMrCL,WAAW,CAAC,IAAD,CAAX,CAAkBoB,qBAAlB,EANqC;UAEvCpE,IAFuC,yBAEvCA,IAFuC;UAGvCF,GAHuC,yBAGvCA,GAHuC;UAIvCC,KAJuC,yBAIvCA,KAJuC;UAKvCE,MALuC,yBAKvCA,MALuC;;;wBASrC,KAAKvH,KATgC;UAQvC2L,MARuC,eAQvCA,MARuC;UAQ/BC,OAR+B,eAQ/BA,OAR+B;UAQtBC,OARsB,eAQtBA,OARsB;UAQbC,MARa,eAQbA,MARa;UAUnCN,MAAM,GAAGP,YAAY,IACtBhD,OAAK,CAACgD,YAAY,CAAC/E,CAAd,EAAiBoB,IAAjB,EAAuBD,KAAvB,CAAL,KAAuC4D,YAAY,CAAC/E,CAD1C,IAEV+B,OAAK,CAACgD,YAAY,CAAC7E,CAAd,EAAiBgB,GAAjB,EAAsBG,MAAtB,CAAL,KAAuC0D,YAAY,CAAC7E,CAFzD;UAII,CAAC,KAAKoF,MAAN,IAAgBA,MAApB,EAA4BI,OAAO,CAAC;QAAEb,OAAO,EAAPA,OAAF;QAAWE,YAAY,EAAZA;OAAZ,CAAP;UACxB,KAAKO,MAAL,IAAeA,MAAnB,EAA2BM,MAAM,CAAC;QAAEf,OAAO,EAAPA,OAAF;QAAWE,YAAY,EAAZA;OAAZ,CAAN;UACvB,KAAKO,MAAL,IAAe,CAACA,MAApB,EAA4BK,OAAO,CAAC;QAAEd,OAAO,EAAPA,OAAF;QAAWE,YAAY,EAAZA;OAAZ,CAAP;UACxBO,MAAM,IAAIb,GAAd,EAAmBgB,MAAM,CAAC;QAAEZ,OAAO,EAAPA,OAAF;QAAWE,YAAY,EAAZA;OAAZ,CAAN;WAEdO,MAAL,GAAcA,MAAM,IAAI,CAACb,GAAzB;;;;6BAGO;UACCnM,QADD,GACc,KAAKwB,KADnB,CACCxB,QADD;aAEAJ,QAAA,CAAe2N,IAAf,CAAoBvN,QAApB,CAAP;;;;;EAjD4BJ,SAAhC;AAqDAmN,UAAU,CAAC9F,WAAX,GAAyBoF,eAAzB;AAEA,wCAAAU,UAAU,CAACtM,SAAX,GAAuB;EACrBT,QAAQ,EAAEU,IAAA,CAAe0B,UADJ;EAErBgL,OAAO,EAAE1M,IAFY;EAGrB4M,MAAM,EAAE5M,IAHa;EAIrB2M,OAAO,EAAE3M,IAJY;EAKrByM,MAAM,EAAEzM;CALV;AAQAqM,UAAU,CAACpM,YAAX,GAA0B;EACxByM,OAAO,EAAE,mBAAM,EADS;EAExBE,MAAM,EAAE,kBAAM,EAFU;EAGxBD,OAAO,EAAE,mBAAM,EAHS;EAIxBF,MAAM,EAAE,kBAAM;CAJhB;;ICnEaK,SAAb;;AAAA;;;;;;;;;;;6BACW;UACCxN,QADD,GACc,KAAKwB,KADnB,CACCxB,QADD;aAEAA,QAAP;;;;;EAH2BJ,aAA/B;AAOA,wCAAA4N,SAAS,CAAC/M,SAAV,GAAsB;EACpBT,QAAQ,EAAEU,IAAA,CAAe0B;CAD3B;;ICHMqL,MAAM,GAAG;EACbC,YAAY,EAAE;IACZ7L,QAAQ,EAAE,UADE;IAEZ+G,GAAG,EAAE,CAFO;IAGZE,IAAI,EAAE,CAHM;IAIZ6E,MAAM,EAAE,MAJI;IAKZC,KAAK,EAAE,MALK;IAMZC,QAAQ,EAAE,QANE;IAOZ5E,MAAM,EAAE,CAAC,CAPG;IAQZ6E,UAAU,EAAE,QARA;IASZ9E,OAAO,EAAE;GAVE;EAYb+E,aAAa,EAAE;IACblM,QAAQ,EAAE,UADG;IAEb+G,GAAG,EAAE,CAFQ;IAGbE,IAAI,EAAE,CAHO;IAIb6E,MAAM,EAAE,MAJK;IAKbC,KAAK,EAAE,MALM;IAMbC,QAAQ,EAAE;GAlBC;EAoBbG,eAAe,EAAE;IACfnM,QAAQ,EAAE,UADK;IAEf+G,GAAG,EAAE,CAFU;IAGfE,IAAI,EAAE,CAHS;IAIf6E,MAAM,EAAE,MAJO;IAKfC,KAAK,EAAE,MALQ;IAMfC,QAAQ,EAAE,MANK;IAOfI,SAAS,EAAE,KAPI;IAQfC,QAAQ,EAAE;GA5BC;EA8BbC,gBAAgB,EAAE;IAChBtM,QAAQ,EAAE,UADM;IAEhB+G,GAAG,EAAE,CAFW;IAGhBE,IAAI,EAAE,CAHU;IAIhB8E,KAAK,EAAE,MAJS;IAKhBD,MAAM,EAAE;;CAnCZ;IAuCaS,KAAb;;AAAA;;;iBACc5M,KAAZ,EAAmB;;;;;+EACXA,KAAN;UAEK6M,cAAL,GAAsB,MAAKA,cAAL,CAAoB9C,IAApB,uDAAtB;UACK+C,OAAL,GAAe1O,SAAA,EAAf;;;;;;wCAGkB;WACb2O,eAAL;WACKF,cAAL;;;;qCAGe;;UAETG,QAAQ,GAAG1C,WAAW,CAAC,KAAKwC,OAAL,CAAaG,OAAd,CAA5B;UACMC,IAAI,GAAG;QAAEf,MAAM,EAAEa,QAAQ,CAACG,YAAnB;QAAiCf,KAAK,EAAEY,QAAQ,CAACI;OAA9D;WAEKZ,eAAL,CAAqBa,SAArB,GAAiCH,IAAI,CAACf,MAAtC;WACKK,eAAL,CAAqBc,UAArB,GAAkCJ,IAAI,CAACd,KAAvC;WAEKmB,cAAL,CAAoBrG,KAApB,CAA0BkF,KAA1B,aAAqCc,IAAI,CAACd,KAAL,GAAa,CAAlD;WACKmB,cAAL,CAAoBrG,KAApB,CAA0BiF,MAA1B,aAAsCe,IAAI,CAACf,MAAL,GAAc,CAApD;WACKI,aAAL,CAAmBc,SAAnB,GAA+B,CAA/B;WACKd,aAAL,CAAmBe,UAAnB,GAAgC,CAAhC;UAEQE,YAbO,GAaU,KAAKxN,KAbf,CAaPwN,YAbO;MAcfA,YAAY,CAACN,IAAD,CAAZ;;;;sCAGgB;;UAEVF,QAAQ,GAAG1C,WAAW,CAAC,KAAKwC,OAAL,CAAaG,OAAd,CAA5B;WAEKf,YAAL,GAAoBxE,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAApB;MACA/D,MAAM,CAACK,MAAP,CAAc,KAAKiI,YAAL,CAAkBhF,KAAhC,EAAuC+E,MAAM,CAACC,YAA9C;MACAc,QAAQ,CAACnF,WAAT,CAAqB,KAAKqE,YAA1B;WAEKK,aAAL,GAAqB7E,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAArB;MACA/D,MAAM,CAACK,MAAP,CAAc,KAAKsI,aAAL,CAAmBrF,KAAjC,EAAwC+E,MAAM,CAACM,aAA/C;WACKA,aAAL,CAAmBrD,gBAAnB,CAAoC,QAApC,EAA8C,KAAK2D,cAAnD;WACKX,YAAL,CAAkBrE,WAAlB,CAA8B,KAAK0E,aAAnC;WAEKgB,cAAL,GAAsB7F,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAtB;WACK4E,aAAL,CAAmB1E,WAAnB,CAA+B,KAAK0F,cAApC;WAEKf,eAAL,GAAuB9E,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAvB;MACA/D,MAAM,CAACK,MAAP,CAAc,KAAKuI,eAAL,CAAqBtF,KAAnC,EAA0C+E,MAAM,CAACO,eAAjD;WACKA,eAAL,CAAqBtD,gBAArB,CAAsC,QAAtC,EAAgD,KAAK2D,cAArD;WACKX,YAAL,CAAkBrE,WAAlB,CAA8B,KAAK2E,eAAnC;WAEKG,gBAAL,GAAwBjF,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAxB;MACA/D,MAAM,CAACK,MAAP,CAAc,KAAK0I,gBAAL,CAAsBzF,KAApC,EAA2C+E,MAAM,CAACU,gBAAlD;WACKH,eAAL,CAAqB3E,WAArB,CAAiC,KAAK8E,gBAAtC;;;;6BAGO;wBAKH,KAAK3M,KALF;UAELwN,YAFK,eAELA,YAFK;UAGeC,SAHf,eAGLC,kBAHK;UAIFC,SAJE;;aAQLlP,cAAC,SAAD;QACE,GAAG,EAAE,KAAKqO;SAEVrO,cAAC,SAAD;QACMkP,SADN,CAHF,CADF;;;;;EA/DuBvP,aAA3B;AA2EA,wCAAAwO,KAAK,CAAC3N,SAAN,GAAkB;EAChBuO,YAAY,EAAEtO,IAAA,CAAe0B,UADb;EAEhB8M,kBAAkB,EAAExO,SAAA,CAAoB,CAACA,MAAD,EAAmBA,IAAnB,CAApB;CAFtB;AAKA0N,KAAK,CAACzN,YAAN,GAAqB;EACnBuO,kBAAkB,EAAE;CADtB;;IC5HaE,YAAY,GAAG,SAAfA,YAAe,CAACC,gBAAD,EAAmBC,kBAAnB,EAA0C;MAChEC,qBAAqB,GAAGD,kBAAkB,EAA9C;MACME,UAAU,GAAG,IAAIC,GAAJ,EAAnB;;MACMC,eAH8D;;;;;;;;;;;;;0CAI9C;QAClBF,UAAU,CAACG,GAAX,CAAe,IAAf;;;;6CAGqB;QACrBH,UAAU,CAACI,MAAX,CAAkB,IAAlB;;;;+BAGO;eACA3P,cAAC,gBAAD,eAAsB,KAAKuB,KAA3B,EAAsC+N,qBAAtC,EAAP;;;;;IAV0B3P,aAHsC;;EAgBpE8P,eAAe,CAAC5C,MAAhB,GAAyB,YAAM;IAC7ByC,qBAAqB,GAAGD,kBAAkB,EAA1C;IACAO,KAAK,CAACC,IAAN,CAAWN,UAAU,CAACO,MAAX,EAAX,EAAgCzG,OAAhC,CAAwC,UAAA0G,SAAS;aAAIA,SAAS,CAACpN,WAAV,EAAJ;KAAjD;GAFF;;SAIO8M,eAAP;CApBK;;ICFMO,iBAAiB,GAAG,SAApBA,iBAAoB,CAACD,SAAD,EAA+C;MAAnCE,yBAAmC,uEAAP,EAAO;;MACxEC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,SAAD,EAAYC,KAAZ,EAAsB;IAC9CjL,MAAM,CAACI,IAAP,CAAY0K,yBAAZ,EAAuC5G,OAAvC,CAA+C,UAACgH,YAAD,EAAkB;UACzDC,WAAW,GAAGL,yBAAyB,CAACI,YAAD,CAAzB,EAApB;;UACIC,WAAW,IAAIH,SAAS,CAACE,YAAD,CAAT,KAA4BD,KAAK,CAACC,YAAD,CAApD,EAAoE;QAClEC,WAAW,CAACH,SAAS,CAACE,YAAD,CAAV,CAAX;;KAHJ;GADF;;MASIE,gBAAgB,GAAG,IAAvB;MACIC,YAAY,GAAG,IAAnB;MACIC,gBAAgB,GAAG,IAAvB;;MACMC,YAAY,GAAG,SAAfA,YAAe,CAACzL,MAAD,EAASqH,OAAT,EAAkBqE,QAAlB,EAA+B;QAC5CC,YAAY,GAAG,SAAfA,YAAe,CAACC,SAAD,EAAe;UAC9BL,YAAY,KAAK,IAArB,EAA2B;QACzBA,YAAY,GAAGK,SAAf;;;UAEIC,WAAW,GAAG7L,MAAM,mBAAM4L,SAAN,GAAmBvE,OAAnB,CAA1B;;UACM8D,KAAK,qBAAQS,SAAR,EAAsBC,WAAtB,CAAX;;UAEI,OAAOH,QAAP,KAAoB,UAAxB,EAAoC;QAClCA,QAAQ,CAACP,KAAD,EAAQS,SAAR,CAAR;;;UAEED,YAAY,KAAKL,gBAArB,EAAuC;YACjCE,gBAAgB,KAAKD,YAAzB,EAAuC;UACrCN,iBAAiB,CAACE,KAAD,EAAQI,YAAR,CAAjB;UACAC,gBAAgB,GAAGD,YAAnB;;;QAEFA,YAAY,GAAG,IAAf;;;aAGKM,WAAP;KAlBF;;IAoBAP,gBAAgB,GAAGK,YAAnB;IACAb,SAAS,CAACgB,QAAV,CAAmBH,YAAnB;GAtBF;;MAwBMI,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,KAAD,EAAQhM,MAAR,EAAgBqH,OAAhB,EAA4B;IACpDoE,YAAY,CAAC,UAAAN,KAAK;iCACfa,KADe,EACPhM,MAAM,CAACmL,KAAK,CAACa,KAAD,CAAN,EAAe3E,OAAf,CADC;KAAN,CAAZ;GADF;;SAMO;IACLoE,YAAY,EAAZA,YADK;IAELM,iBAAiB,EAAjBA;GAFF;CA3CK;;ACEP,IAAME,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,MAAD,EAAS5B,UAAT,EAAqB6B,OAArB,EAAiC;MACpD9P,YADoD;;;;;;;;;;;;;+BAE/C;eACAtB,cAAC,MAAD,eAAYuP,UAAZ,EAA4B,KAAKhO,KAAjC,EAAP;;;;;IAFoB5B,aADkC;;EAM1D2B,YAAS,CAACiO,UAAV,GAAuB4B,MAAM,CAAC5B,UAA9B;EACApK,MAAM,CAACK,MAAP,CAAclE,YAAd,EAAyB8P,OAAzB;SACO9P,YAAP;CARF;;IAWa+P,cAAc,GAAG,SAAjBA,cAAiB,CAAA9B,UAAU;SAAI,UAAC4B,MAAD,EAAY;QAChD5P,KAAK,GAAG,EAAd;QACM6P,OAAO,GAAG,EAAhB;IACAjM,MAAM,CAACmM,OAAP,CAAeH,MAAM,CAAC5B,UAAtB,EAAkClG,OAAlC,CAA0C,gBAAgC;;UAA9BkI,SAA8B;UAAnBC,aAAmB;;UAClEzB,SAAS,GAAGR,UAAU,CAACiC,aAAD,CAA5B;;UACIzB,SAAS,IAAIA,SAAS,KAAKoB,MAAM,CAACK,aAAD,CAArC,EAAsD;QACpDjQ,KAAK,CAACgQ,SAAD,CAAL,GAAmBxB,SAAnB;;;MAEFqB,OAAO,CAACI,aAAD,CAAP,GAAyBzB,SAAS,IAAIoB,MAAM,CAACK,aAAD,CAA5C;KALF;WAOOrM,MAAM,CAACI,IAAP,CAAYhE,KAAZ,EAAmBkQ,MAAnB,GAA4B,CAA5B,GACHP,kBAAkB,CAACC,MAAD,EAAS5P,KAAT,EAAgB6P,OAAhB,CADf,GAC0CD,MADjD;GAVsC;CAAjC;;"}
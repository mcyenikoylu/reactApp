{"version":3,"file":"dx-react-core.umd.js","sources":["../src/plugin-based/contexts.js","../src/plugin-based/plugin-indexer.jsx","../src/plugin-based/constants.js","../src/utils/with-props-from-context.jsx","../src/plugin-based/plugin.jsx","../src/plugin-based/template-placeholder.jsx","../src/plugin-based/plugin-host.jsx","../src/plugin-based/helpers.js","../src/plugin-based/action.jsx","../src/plugin-based/getter.jsx","../src/plugin-based/template.jsx","../src/plugin-based/template-connector.jsx","../src/draggable/touch-strategy.js","../src/draggable/gesture-cover.js","../src/draggable/mouse-strategy.js","../src/draggable/shared-events.js","../src/draggable/selection-utils.js","../src/draggable.jsx","../src/drag-drop/context.js","../src/drag-drop/provider.jsx","../src/drag-drop/source.jsx","../src/drag-drop/target.jsx","../src/ref-holder.jsx","../src/sizer.jsx","../src/utils/connect-props.jsx","../src/utils/state-helper.js","../src/utils/with-components.jsx"],"sourcesContent":["import * as React from 'react';\n\nexport const PluginHostContext = React.createContext();\nexport const PositionContext = React.createContext();\nexport const TemplateHostContext = React.createContext();\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { PositionContext } from './contexts';\n\nexport const PluginIndexer = ({ children }) => (\n  <PositionContext.Consumer>\n    {positionContext => (\n      React.Children.map(children, (child, index) => {\n        if (!child || !child.type) return child;\n\n        const childPosition = () => {\n          const calculatedPosition = (positionContext && positionContext()) || [];\n          return [...calculatedPosition, index];\n        };\n\n        return (\n          <PositionContext.Provider value={childPosition}>\n            {child}\n          </PositionContext.Provider>\n        );\n      })\n    )}\n  </PositionContext.Consumer>\n);\n\nPluginIndexer.propTypes = {\n  children: PropTypes.node,\n};\n\nPluginIndexer.defaultProps = {\n  children: undefined,\n};\n","export const PLUGIN_HOST_CONTEXT = 'dxcore_pluginHost_context';\nexport const POSITION_CONTEXT = 'dxcore_position_context';\nexport const TEMPLATE_HOST_CONTEXT = 'dxcore_templateHost_context';\n\nexport const RERENDER_TEMPLATE_EVENT = Symbol('rerenderTemplate');\nexport const RERENDER_TEMPLATE_SCOPE_EVENT = Symbol('rerenderTemplateScope');\nexport const UPDATE_CONNECTION_EVENT = Symbol('updateConnection');\n","import * as React from 'react';\nimport { PluginHostContext, PositionContext } from '../plugin-based/contexts';\nimport { PLUGIN_HOST_CONTEXT, POSITION_CONTEXT } from '../plugin-based/constants';\n\nexport const withContext = (Context, name) => Component => props => (\n  <Context.Consumer>\n    {context => (\n      <Component {...props} {...{ [name]: context }} />\n    )}\n  </Context.Consumer>\n);\n\nexport const withHostAndPosition = Component => withContext(\n  PluginHostContext,\n  PLUGIN_HOST_CONTEXT,\n)(withContext(PositionContext, POSITION_CONTEXT)(Component));\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { PluginIndexer } from './plugin-indexer';\nimport { PLUGIN_HOST_CONTEXT, POSITION_CONTEXT } from './constants';\nimport { withHostAndPosition } from '../utils/with-props-from-context';\n\nexport class PluginBase extends React.PureComponent {\n  componentDidMount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost, [POSITION_CONTEXT]: position } = this.props;\n    const { name, dependencies } = this.props;\n    this.plugin = {\n      position,\n      name,\n      dependencies,\n      container: true,\n    };\n    pluginHost.registerPlugin(this.plugin);\n  }\n\n  componentDidUpdate() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n    pluginHost.ensureDependencies();\n  }\n\n  componentWillUnmount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n    pluginHost.unregisterPlugin(this.plugin);\n  }\n\n  render() {\n    const { children } = this.props;\n    return (\n      <PluginIndexer>\n        {children}\n      </PluginIndexer>\n    );\n  }\n}\n\nPluginBase.propTypes = {\n  [PLUGIN_HOST_CONTEXT]: PropTypes.object.isRequired,\n  [POSITION_CONTEXT]: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n  name: PropTypes.string,\n  dependencies: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string,\n    optional: PropTypes.bool,\n  })),\n};\n\nPluginBase.defaultProps = {\n  name: '',\n  dependencies: [],\n};\n\nexport const Plugin = withHostAndPosition(PluginBase);\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { shallowEqual } from '@devexpress/dx-core';\nimport {\n  PLUGIN_HOST_CONTEXT, RERENDER_TEMPLATE_EVENT,\n  TEMPLATE_HOST_CONTEXT, RERENDER_TEMPLATE_SCOPE_EVENT,\n} from './constants';\nimport { withContext } from '../utils/with-props-from-context';\nimport { PluginHostContext, TemplateHostContext } from './contexts';\n\nexport class TemplatePlaceholderBase extends React.Component {\n  constructor(props) {\n    super(props);\n    const { name: propsName } = this.props;\n\n    this.subscription = {\n      [RERENDER_TEMPLATE_EVENT]: (id) => {\n        if (this.template && this.template.id === id) {\n          this.forceUpdate();\n        }\n      },\n      [RERENDER_TEMPLATE_SCOPE_EVENT]: (name) => {\n        if (propsName === name) {\n          this.forceUpdate();\n        }\n      },\n    };\n  }\n\n  componentDidMount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n    pluginHost.registerSubscription(this.subscription);\n  }\n\n  shouldComponentUpdate(nextProps) {\n    const { params } = this.getRenderingData(nextProps);\n    const { children } = this.props;\n    return !shallowEqual(params, this.params) || children !== nextProps.children;\n  }\n\n  componentWillUnmount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n    pluginHost.unregisterSubscription(this.subscription);\n  }\n\n  getRenderingData(props) {\n    const { name, params } = props;\n    if (name) {\n      const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n      return {\n        params,\n        templates: pluginHost.collect(`${name}Template`)\n          .filter(template => template.predicate(params))\n          .reverse(),\n      };\n    }\n    const { [TEMPLATE_HOST_CONTEXT]: templateHost } = this.props;\n    return {\n      params: params || templateHost.params(),\n      templates: templateHost.templates(),\n    };\n  }\n\n  render() {\n    const { params, templates } = this.getRenderingData(this.props);\n\n    this.params = params;\n    [this.template] = templates;\n    this.restTemplates = templates.slice(1);\n\n    let content = null;\n    if (this.template) {\n      const { children: templateContent } = this.template;\n\n      content = templateContent() || null;\n      if (content && typeof content === 'function') {\n        content = content(params);\n      }\n    }\n\n    const { children: templatePlaceholder } = this.props;\n    return (\n      <TemplateHostContext.Provider value={{\n        templates: () => this.restTemplates,\n        params: () => this.params,\n      }}\n      >\n        {templatePlaceholder ? templatePlaceholder(content) : content}\n      </TemplateHostContext.Provider>\n    );\n  }\n}\n\nTemplatePlaceholderBase.propTypes = {\n  name: PropTypes.string, // eslint-disable-line react/no-unused-prop-types\n  params: PropTypes.object, // eslint-disable-line react/no-unused-prop-types\n  [TEMPLATE_HOST_CONTEXT]: PropTypes.object,\n  [PLUGIN_HOST_CONTEXT]: PropTypes.object.isRequired,\n  children: PropTypes.func,\n};\n\nTemplatePlaceholderBase.defaultProps = {\n  [TEMPLATE_HOST_CONTEXT]: undefined,\n  name: undefined,\n  params: undefined,\n  children: undefined,\n};\n\nexport const TemplatePlaceholder = withContext(PluginHostContext, PLUGIN_HOST_CONTEXT)(\n  withContext(TemplateHostContext, TEMPLATE_HOST_CONTEXT)(TemplatePlaceholderBase),\n);\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { PluginHost as PluginHostCore } from '@devexpress/dx-core';\nimport { PluginIndexer } from './plugin-indexer';\nimport { TemplatePlaceholder } from './template-placeholder';\nimport { PluginHostContext } from './contexts';\n\nexport class PluginHost extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.host = new PluginHostCore();\n  }\n\n  render() {\n    const { children } = this.props;\n\n    return (\n      <PluginHostContext.Provider value={this.host}>\n        <PluginIndexer>\n          {children}\n        </PluginIndexer>\n        <TemplatePlaceholder name=\"root\" />\n      </PluginHostContext.Provider>\n    );\n  }\n}\n\nPluginHost.propTypes = {\n  children: PropTypes.node,\n};\n\nPluginHost.defaultProps = {\n  children: undefined,\n};\n","import { shallowEqual } from '@devexpress/dx-core';\n\nexport const getAvailableGetters = (\n  pluginHost,\n  getGetterValue = getterName => pluginHost.get(`${getterName}Getter`),\n) => {\n  const trackedDependencies = {};\n\n  let getters;\n  if (typeof Proxy !== 'undefined') {\n    getters = new Proxy({}, {\n      get(target, prop) {\n        if (typeof prop !== 'string') return undefined;\n        const result = getGetterValue(prop);\n        trackedDependencies[prop] = result;\n        return result;\n      },\n      getOwnPropertyDescriptor(target, prop) {\n        return { configurable: true, enumerable: true, value: this.get(target, prop) };\n      },\n      ownKeys() {\n        return pluginHost.knownKeys('Getter');\n      },\n    });\n  } else {\n    getters = pluginHost.knownKeys('Getter')\n      .reduce((acc, getterName) => {\n        Object.defineProperty(acc, getterName, {\n          get: () => {\n            const result = getGetterValue(getterName);\n            trackedDependencies[getterName] = result;\n            return result;\n          },\n        });\n        return acc;\n      }, {});\n  }\n\n  return { getters, trackedDependencies };\n};\n\nexport const isTrackedDependenciesChanged = (\n  pluginHost,\n  prevTrackedDependencies,\n  getGetterValue = getterName => pluginHost.get(`${getterName}Getter`),\n) => {\n  const trackedDependencies = Object.keys(prevTrackedDependencies)\n    .reduce((acc, getterName) => Object.assign(acc, {\n      [getterName]: getGetterValue(getterName),\n    }), {});\n\n  return !shallowEqual(prevTrackedDependencies, trackedDependencies);\n};\n\nexport const getAvailableActions = (\n  pluginHost,\n  getAction = actionName => pluginHost.collect(`${actionName}Action`).slice().reverse()[0],\n) => {\n  let actions;\n  if (typeof Proxy !== 'undefined') {\n    actions = new Proxy({}, {\n      get(target, prop) {\n        if (typeof prop !== 'string') return undefined;\n        return getAction(prop);\n      },\n      getOwnPropertyDescriptor(target, prop) {\n        return { configurable: true, enumerable: true, value: this.get(target, prop) };\n      },\n      ownKeys() {\n        return pluginHost.knownKeys('Action');\n      },\n    });\n  } else {\n    actions = pluginHost.knownKeys('Action')\n      .reduce((acc, actionName) => {\n        Object.defineProperty(acc, actionName, {\n          get: () => getAction(actionName),\n        });\n        return acc;\n      }, {});\n  }\n  return actions;\n};\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport {\n  getAvailableGetters,\n  getAvailableActions,\n} from './helpers';\nimport { PLUGIN_HOST_CONTEXT, POSITION_CONTEXT } from './constants';\nimport { withHostAndPosition } from '../utils/with-props-from-context';\n\nclass ActionBase extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost, [POSITION_CONTEXT]: positionContext } = props;\n    const { name } = props;\n\n    this.plugin = {\n      position: () => positionContext(),\n      [`${name}Action`]: (params) => {\n        const { action } = this.props;\n        const { getters } = getAvailableGetters(\n          pluginHost,\n          getterName => pluginHost.get(`${getterName}Getter`, this.plugin),\n        );\n        let nextParams = params;\n        const actions = getAvailableActions(\n          pluginHost,\n          actionName => (actionName === name\n            ? (newParams) => { nextParams = newParams; }\n            : pluginHost.collect(`${actionName}Action`, this.plugin).slice().reverse()[0]),\n        );\n        action(params, getters, actions);\n        const nextAction = pluginHost.collect(`${name}Action`, this.plugin).slice().reverse()[0];\n        if (nextAction) {\n          nextAction(nextParams);\n        }\n      },\n    };\n\n    pluginHost.registerPlugin(this.plugin);\n  }\n\n  componentWillUnmount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n\n    pluginHost.unregisterPlugin(this.plugin);\n  }\n\n  render() {\n    return null;\n  }\n}\n\nActionBase.propTypes = {\n  name: PropTypes.string.isRequired,\n  action: PropTypes.func.isRequired,\n  [PLUGIN_HOST_CONTEXT]: PropTypes.object.isRequired,\n  [POSITION_CONTEXT]: PropTypes.func.isRequired,\n};\n\nexport const Action = withHostAndPosition(ActionBase);\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport {\n  isTrackedDependenciesChanged,\n  getAvailableGetters,\n  getAvailableActions,\n} from './helpers';\nimport { UPDATE_CONNECTION_EVENT, PLUGIN_HOST_CONTEXT, POSITION_CONTEXT } from './constants';\nimport { withHostAndPosition } from '../utils/with-props-from-context';\n\nclass GetterBase extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost, [POSITION_CONTEXT]: positionContext } = props;\n    const { name } = props;\n\n    let lastComputed;\n    let lastTrackedDependencies = {};\n    let lastResult;\n\n    this.plugin = {\n      position: () => positionContext(),\n      [`${name}Getter`]: (original) => {\n        const { value, computed } = this.props;\n        if (computed === undefined) return value;\n\n        const getGetterValue = getterName => ((getterName === name)\n          ? original\n          : pluginHost.get(`${getterName}Getter`, this.plugin));\n\n        if (computed === lastComputed\n          && !isTrackedDependenciesChanged(pluginHost, lastTrackedDependencies, getGetterValue)) {\n          return lastResult;\n        }\n\n        const { getters, trackedDependencies } = getAvailableGetters(pluginHost, getGetterValue);\n        const actions = getAvailableActions(pluginHost);\n\n        lastComputed = computed;\n        lastTrackedDependencies = trackedDependencies;\n        lastResult = computed(getters, actions);\n        return lastResult;\n      },\n    };\n\n    pluginHost.registerPlugin(this.plugin);\n  }\n\n  componentDidUpdate() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n\n    pluginHost.broadcast(UPDATE_CONNECTION_EVENT);\n  }\n\n  componentWillUnmount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n\n    pluginHost.unregisterPlugin(this.plugin);\n  }\n\n  render() {\n    return null;\n  }\n}\n\nGetterBase.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.any,\n  computed: PropTypes.func,\n  [PLUGIN_HOST_CONTEXT]: PropTypes.object.isRequired,\n  [POSITION_CONTEXT]: PropTypes.func.isRequired,\n};\n\nGetterBase.defaultProps = {\n  value: undefined,\n  computed: undefined,\n};\n\nexport const Getter = withHostAndPosition(GetterBase);\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport {\n  PLUGIN_HOST_CONTEXT, POSITION_CONTEXT,\n  RERENDER_TEMPLATE_EVENT, RERENDER_TEMPLATE_SCOPE_EVENT,\n} from './constants';\nimport { withHostAndPosition } from '../utils/with-props-from-context';\n\nlet globalTemplateId = 0;\nclass TemplateBase extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    globalTemplateId += 1;\n    this.id = globalTemplateId;\n\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost, [POSITION_CONTEXT]: positionContext } = props;\n    const { name, predicate } = props;\n\n    this.plugin = {\n      position: () => positionContext(),\n      [`${name}Template`]: {\n        id: this.id,\n        predicate: params => (predicate ? predicate(params) : true),\n        children: () => {\n          const { children } = this.props;\n          return children;\n        },\n      },\n    };\n    pluginHost.registerPlugin(this.plugin);\n    pluginHost.broadcast(RERENDER_TEMPLATE_SCOPE_EVENT, name);\n  }\n\n  componentDidUpdate() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n    pluginHost.broadcast(RERENDER_TEMPLATE_EVENT, this.id);\n  }\n\n  componentWillUnmount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n    const { name } = this.props;\n    pluginHost.unregisterPlugin(this.plugin);\n    pluginHost.broadcast(RERENDER_TEMPLATE_SCOPE_EVENT, name);\n  }\n\n  render() {\n    return null;\n  }\n}\n\nTemplateBase.propTypes = {\n  [PLUGIN_HOST_CONTEXT]: PropTypes.object.isRequired,\n  [POSITION_CONTEXT]: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n  predicate: PropTypes.func,\n  children: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.node,\n  ]),\n};\n\nTemplateBase.defaultProps = {\n  predicate: undefined,\n  children: undefined,\n};\n\nexport const Template = withHostAndPosition(TemplateBase);\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { UPDATE_CONNECTION_EVENT } from './constants';\nimport {\n  isTrackedDependenciesChanged,\n  getAvailableGetters,\n  getAvailableActions,\n} from './helpers';\nimport { PluginHostContext } from './contexts';\n\nexport class TemplateConnector extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.trackedDependencies = {};\n    this.subscription = {\n      [UPDATE_CONNECTION_EVENT]: () => this.updateConnection(),\n    };\n  }\n\n  componentDidMount() {\n    const pluginHost = this.context;\n    pluginHost.registerSubscription(this.subscription);\n  }\n\n  componentWillUnmount() {\n    const pluginHost = this.context;\n    pluginHost.unregisterSubscription(this.subscription);\n  }\n\n  updateConnection() {\n    const pluginHost = this.context;\n\n    if (isTrackedDependenciesChanged(pluginHost, this.trackedDependencies)) {\n      this.forceUpdate();\n    }\n  }\n\n  render() {\n    const pluginHost = this.context;\n    const { children } = this.props;\n\n    const { getters, trackedDependencies } = getAvailableGetters(pluginHost);\n    this.trackedDependencies = trackedDependencies;\n    const actions = getAvailableActions(pluginHost);\n\n    return children(getters, actions);\n  }\n}\n\nTemplateConnector.propTypes = {\n  children: PropTypes.func.isRequired,\n};\n\nTemplateConnector.contextType = PluginHostContext;\n","const TIMEOUT = 180;\n\nexport class TouchStrategy {\n  constructor(delegate) {\n    this.delegate = delegate;\n    this.touchStartTimeout = null;\n    this.dragging = false;\n  }\n\n  isDragging() {\n    return this.dragging;\n  }\n\n  isWaiting() {\n    return !!this.touchStartTimeout;\n  }\n\n  cancelWaiting() {\n    clearTimeout(this.touchStartTimeout);\n    this.touchStartTimeout = null;\n  }\n\n  start(e) {\n    const { clientX: x, clientY: y } = e.touches[0];\n    this.touchStartTimeout = setTimeout(() => {\n      this.delegate.onStart({ x, y });\n      this.dragging = true;\n    }, TIMEOUT);\n  }\n\n  move(e) {\n    this.cancelWaiting();\n    if (this.dragging) {\n      const { clientX, clientY } = e.touches[0];\n      e.preventDefault();\n      this.delegate.onMove({ x: clientX, y: clientY });\n    }\n  }\n\n  end(e) {\n    this.cancelWaiting();\n    if (this.dragging) {\n      const { clientX, clientY } = e.changedTouches[0];\n      this.delegate.onEnd({ x: clientX, y: clientY });\n    }\n    this.mouseInitialOffset = null;\n    this.dragging = false;\n  }\n}\n","/* globals document:true */\n\nlet gestureCover = null;\nexport const toggleGestureCover = (toggle, cursor) => {\n  let style = {\n    pointerEvents: toggle ? 'all' : 'none',\n  };\n  if (toggle && cursor) {\n    style = {\n      ...style,\n      cursor,\n    };\n  }\n  if (!gestureCover) {\n    style = {\n      ...style,\n      position: 'fixed',\n      top: 0,\n      right: 0,\n      left: 0,\n      bottom: 0,\n      opacity: 0,\n      zIndex: 2147483647,\n    };\n\n    gestureCover = document.createElement('div');\n    document.body.appendChild(gestureCover);\n  }\n  Object.keys(style).forEach((key) => { gestureCover.style[key] = style[key]; });\n};\n","/* globals window:true document:true */\n\nimport { toggleGestureCover } from './gesture-cover';\n\nconst BOUNDARY = 10;\nconst clamp = (value, min, max) => Math.max(Math.min(value, max), min);\nconst isBoundExceeded = (\n  { x: initialX, y: initialY }, { x, y },\n) => clamp(x, initialX - BOUNDARY, initialX + BOUNDARY) !== x\n  || clamp(y, initialY - BOUNDARY, initialY + BOUNDARY) !== y;\n\nexport class MouseStrategy {\n  constructor(delegate) {\n    this.delegate = delegate;\n    this.mouseInitialOffset = null;\n    this.dragging = false;\n  }\n\n  isDragging() {\n    return this.dragging;\n  }\n\n  start(e) {\n    const { clientX: x, clientY: y } = e;\n    this.e = e;\n    this.mouseInitialOffset = { x, y };\n  }\n\n  move(e) {\n    const { clientX: x, clientY: y } = e;\n    let dragStarted = false;\n    if (!this.dragging && this.mouseInitialOffset) {\n      if (isBoundExceeded(this.mouseInitialOffset, { x, y })) {\n        this.delegate.onStart(this.mouseInitialOffset);\n        if (window.getSelection) {\n          window.getSelection().removeAllRanges();\n        }\n        dragStarted = true;\n        this.dragging = true;\n      }\n    }\n    if (this.dragging) {\n      e.preventDefault();\n      this.delegate.onMove({ x, y });\n    }\n    if (dragStarted) {\n      const { cursor } = window.getComputedStyle(document.elementFromPoint(x, y));\n      toggleGestureCover(true, cursor);\n    }\n  }\n\n  end(e) {\n    if (this.dragging) {\n      const { clientX: x, clientY: y } = e;\n      toggleGestureCover(false);\n      this.delegate.onEnd({ x, y });\n    }\n    this.mouseInitialOffset = null;\n    this.dragging = false;\n  }\n}\n","/* globals window:true */\n\nimport { EventEmitter } from '@devexpress/dx-core';\n\nlet eventEmitter = null;\nexport const getSharedEventEmitter = () => {\n  if (!eventEmitter) {\n    eventEmitter = new EventEmitter();\n\n    ['mousemove', 'mouseup', 'touchmove', 'touchend', 'touchcancel']\n      .forEach(name => window.addEventListener(\n        name, e => eventEmitter.emit([name, e]), { passive: false },\n      ));\n  }\n  return eventEmitter;\n};\n","/* globals document:true window:true */\n\nexport const clear = () => {\n  if (window.getSelection) {\n    if (window.getSelection().empty) {\n      window.getSelection().empty();\n    } else if (window.getSelection().removeAllRanges) {\n      window.getSelection().removeAllRanges();\n    }\n  } else if (document.selection) {\n    document.selection.empty();\n  }\n};\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\n// eslint-disable-next-line camelcase\nimport { unstable_batchedUpdates, findDOMNode } from 'react-dom';\nimport { TouchStrategy } from './draggable/touch-strategy';\nimport { MouseStrategy } from './draggable/mouse-strategy';\nimport { getSharedEventEmitter } from './draggable/shared-events';\nimport { clear } from './draggable/selection-utils';\n\nconst draggingHandled = Symbol('draggingHandled');\n\nexport class Draggable extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    const delegate = {\n      onStart: ({ x, y }) => {\n        const { onStart } = this.props;\n        if (!onStart) return;\n        unstable_batchedUpdates(() => {\n          onStart({ x, y });\n        });\n      },\n      onMove: ({ x, y }) => {\n        const { onUpdate } = this.props;\n        if (!onUpdate) return;\n        unstable_batchedUpdates(() => {\n          onUpdate({ x, y });\n        });\n      },\n      onEnd: ({ x, y }) => {\n        const { onEnd } = this.props;\n        if (!onEnd) return;\n        unstable_batchedUpdates(() => {\n          onEnd({ x, y });\n        });\n      },\n    };\n\n    this.mouseStrategy = new MouseStrategy(delegate);\n    this.touchStrategy = new TouchStrategy(delegate);\n\n    this.mouseDownListener = this.mouseDownListener.bind(this);\n    this.touchStartListener = this.touchStartListener.bind(this);\n    this.globalListener = this.globalListener.bind(this);\n  }\n\n  componentDidMount() {\n    getSharedEventEmitter().subscribe(this.globalListener);\n    this.setupNodeSubscription();\n  }\n\n  shouldComponentUpdate(nextProps) {\n    const { children } = this.props;\n    return nextProps.children !== children;\n  }\n\n  componentDidUpdate() {\n    this.setupNodeSubscription();\n  }\n\n  componentWillUnmount() {\n    getSharedEventEmitter().unsubscribe(this.globalListener);\n  }\n\n  setupNodeSubscription() {\n    // eslint-disable-next-line react/no-find-dom-node\n    const node = findDOMNode(this);\n    if (!node) return;\n    node.removeEventListener('mousedown', this.mouseDownListener);\n    node.removeEventListener('touchstart', this.touchStartListener);\n    node.addEventListener('mousedown', this.mouseDownListener, { passive: true });\n    node.addEventListener('touchstart', this.touchStartListener, { passive: true });\n  }\n\n  mouseDownListener(e) {\n    if (this.touchStrategy.isWaiting() || e[draggingHandled]) return;\n    this.mouseStrategy.start(e);\n    e[draggingHandled] = true;\n  }\n\n  touchStartListener(e) {\n    if (e[draggingHandled]) return;\n    this.touchStrategy.start(e);\n    e[draggingHandled] = true;\n  }\n\n  globalListener([name, e]) {\n    switch (name) {\n      case 'mousemove':\n        this.mouseStrategy.move(e);\n        break;\n      case 'mouseup':\n        this.mouseStrategy.end(e);\n        break;\n      case 'touchmove': {\n        this.touchStrategy.move(e);\n        break;\n      }\n      case 'touchend':\n      case 'touchcancel': {\n        this.touchStrategy.end(e);\n        break;\n      }\n      default:\n        break;\n    }\n    if (this.mouseStrategy.isDragging() || this.touchStrategy.isDragging()) {\n      clear();\n    }\n  }\n\n  render() {\n    const { children } = this.props;\n    return children;\n  }\n}\n\nDraggable.propTypes = {\n  children: PropTypes.node.isRequired,\n  onStart: PropTypes.func,\n  onUpdate: PropTypes.func,\n  onEnd: PropTypes.func,\n};\n\nDraggable.defaultProps = {\n  onStart: undefined,\n  onUpdate: undefined,\n  onEnd: undefined,\n};\n","import * as React from 'react';\n\nexport const DragDropContext = React.createContext();\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\n\nimport { EventEmitter } from '@devexpress/dx-core';\nimport { DragDropContext } from './context';\n\nclass DragDropProviderCore {\n  constructor() {\n    this.payload = null;\n    this.dragEmitter = new EventEmitter();\n  }\n\n  start(payload, clientOffset) {\n    this.payload = payload;\n    this.dragEmitter.emit({ payload: this.payload, clientOffset });\n  }\n\n  update(clientOffset) {\n    this.dragEmitter.emit({ payload: this.payload, clientOffset });\n  }\n\n  end(clientOffset) {\n    this.dragEmitter.emit({ payload: this.payload, clientOffset, end: true });\n    this.payload = null;\n  }\n}\n\nexport class DragDropProvider extends React.Component {\n  constructor(props) {\n    super(props);\n    const { onChange } = this.props;\n\n    this.dragDropProvider = new DragDropProviderCore();\n\n    this.dragDropProvider.dragEmitter.subscribe(({ payload, clientOffset, end }) => {\n      onChange({\n        payload: end ? null : payload,\n        clientOffset: end ? null : clientOffset,\n      });\n    });\n  }\n\n  shouldComponentUpdate(nextProps) {\n    const { children } = this.props;\n    return nextProps.children !== children;\n  }\n\n  render() {\n    const { children } = this.props;\n    return (\n      <DragDropContext.Provider value={this.dragDropProvider}>\n        {children}\n      </DragDropContext.Provider>\n    );\n  }\n}\n\nDragDropProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n  onChange: PropTypes.func,\n};\n\nDragDropProvider.defaultProps = {\n  onChange: () => {},\n};\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { DragDropContext } from './context';\nimport { Draggable } from '../draggable';\n\nexport class DragSource extends React.Component {\n  shouldComponentUpdate(nextProps) {\n    const { children } = this.props;\n    return nextProps.children !== children;\n  }\n\n  render() {\n    const dragDropProvider = this.context;\n    const {\n      onStart, onUpdate, onEnd, payload, children,\n    } = this.props;\n    return (\n      <Draggable\n        onStart={({ x, y }) => {\n          dragDropProvider.start(payload, { x, y });\n          onStart({ clientOffset: { x, y } });\n        }}\n        onUpdate={({ x, y }) => {\n          dragDropProvider.update({ x, y });\n          onUpdate({ clientOffset: { x, y } });\n        }}\n        onEnd={({ x, y }) => {\n          dragDropProvider.end({ x, y });\n          onEnd({ clientOffset: { x, y } });\n        }}\n      >\n        {children}\n      </Draggable>\n    );\n  }\n}\nDragSource.contextType = DragDropContext;\n\nDragSource.propTypes = {\n  children: PropTypes.node.isRequired,\n  payload: PropTypes.any.isRequired,\n  onStart: PropTypes.func,\n  onUpdate: PropTypes.func,\n  onEnd: PropTypes.func,\n};\n\nDragSource.defaultProps = {\n  onStart: () => {},\n  onUpdate: () => {},\n  onEnd: () => {},\n};\n","import * as React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport * as PropTypes from 'prop-types';\nimport { DragDropContext } from './context';\n\nconst clamp = (value, min, max) => Math.max(Math.min(value, max), min);\n\nexport class DropTarget extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.node = null;\n    this.isOver = false;\n\n    this.handleDrag = this.handleDrag.bind(this);\n  }\n\n  componentDidMount() {\n    const { dragEmitter } = this.context;\n    dragEmitter.subscribe(this.handleDrag);\n  }\n\n  shouldComponentUpdate(nextProps) {\n    const { children } = this.props;\n    return nextProps.children !== children;\n  }\n\n  componentWillUnmount() {\n    const { dragEmitter } = this.context;\n    dragEmitter.unsubscribe(this.handleDrag);\n  }\n\n  handleDrag({ payload, clientOffset, end }) {\n    const {\n      left,\n      top,\n      right,\n      bottom,\n    } = findDOMNode(this).getBoundingClientRect(); // eslint-disable-line react/no-find-dom-node\n    const {\n      onDrop, onEnter, onLeave, onOver,\n    } = this.props;\n    const isOver = clientOffset\n      && clamp(clientOffset.x, left, right) === clientOffset.x\n      && clamp(clientOffset.y, top, bottom) === clientOffset.y;\n\n    if (!this.isOver && isOver) onEnter({ payload, clientOffset });\n    if (this.isOver && isOver) onOver({ payload, clientOffset });\n    if (this.isOver && !isOver) onLeave({ payload, clientOffset });\n    if (isOver && end) onDrop({ payload, clientOffset });\n\n    this.isOver = isOver && !end;\n  }\n\n  render() {\n    const { children } = this.props;\n    return React.Children.only(children);\n  }\n}\n\nDropTarget.contextType = DragDropContext;\n\nDropTarget.propTypes = {\n  children: PropTypes.node.isRequired,\n  onEnter: PropTypes.func,\n  onOver: PropTypes.func,\n  onLeave: PropTypes.func,\n  onDrop: PropTypes.func,\n};\n\nDropTarget.defaultProps = {\n  onEnter: () => {},\n  onOver: () => {},\n  onLeave: () => {},\n  onDrop: () => {},\n};\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\n\nexport class RefHolder extends React.PureComponent {\n  render() {\n    const { children } = this.props;\n    return children;\n  }\n}\n\nRefHolder.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","/* globals document:true */\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport { RefHolder } from './ref-holder';\n\nconst styles = {\n  triggersRoot: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    height: '100%',\n    width: '100%',\n    overflow: 'hidden',\n    zIndex: -1,\n    visibility: 'hidden',\n    opacity: 0,\n  },\n  expandTrigger: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    height: '100%',\n    width: '100%',\n    overflow: 'auto',\n  },\n  contractTrigger: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    height: '100%',\n    width: '100%',\n    overflow: 'auto',\n    minHeight: '1px',\n    minWidth: '1px',\n  },\n  contractNotifier: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '200%',\n    height: '200%',\n  },\n};\n\nexport class Sizer extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.setupListeners = this.setupListeners.bind(this);\n    this.rootRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.createListeners();\n    this.setupListeners();\n  }\n\n  setupListeners() {\n    // eslint-disable-next-line react/no-find-dom-node\n    const rootNode = findDOMNode(this.rootRef.current);\n    const size = { height: rootNode.clientHeight, width: rootNode.clientWidth };\n\n    this.contractTrigger.scrollTop = size.height;\n    this.contractTrigger.scrollLeft = size.width;\n\n    this.expandNotifier.style.width = `${size.width + 1}px`;\n    this.expandNotifier.style.height = `${size.height + 1}px`;\n    this.expandTrigger.scrollTop = 1;\n    this.expandTrigger.scrollLeft = 1;\n\n    const { onSizeChange } = this.props;\n    onSizeChange(size);\n  }\n\n  createListeners() {\n    // eslint-disable-next-line react/no-find-dom-node\n    const rootNode = findDOMNode(this.rootRef.current);\n\n    this.triggersRoot = document.createElement('div');\n    Object.assign(this.triggersRoot.style, styles.triggersRoot);\n    rootNode.appendChild(this.triggersRoot);\n\n    this.expandTrigger = document.createElement('div');\n    Object.assign(this.expandTrigger.style, styles.expandTrigger);\n    this.expandTrigger.addEventListener('scroll', this.setupListeners);\n    this.triggersRoot.appendChild(this.expandTrigger);\n\n    this.expandNotifier = document.createElement('div');\n    this.expandTrigger.appendChild(this.expandNotifier);\n\n    this.contractTrigger = document.createElement('div');\n    Object.assign(this.contractTrigger.style, styles.contractTrigger);\n    this.contractTrigger.addEventListener('scroll', this.setupListeners);\n    this.triggersRoot.appendChild(this.contractTrigger);\n\n    this.contractNotifier = document.createElement('div');\n    Object.assign(this.contractNotifier.style, styles.contractNotifier);\n    this.contractTrigger.appendChild(this.contractNotifier);\n  }\n\n  render() {\n    const {\n      onSizeChange,\n      containerComponent: Container,\n      ...restProps\n    } = this.props;\n\n    return (\n      <RefHolder\n        ref={this.rootRef}\n      >\n        <Container // NOTE: should have `position: relative`\n          {...restProps}\n        />\n      </RefHolder>\n    );\n  }\n}\n\nSizer.propTypes = {\n  onSizeChange: PropTypes.func.isRequired,\n  containerComponent: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n};\n\nSizer.defaultProps = {\n  containerComponent: 'div',\n};\n","import * as React from 'react';\n\nexport const connectProps = (WrappedComponent, getAdditionalProps) => {\n  let storedAdditionalProps = getAdditionalProps();\n  const components = new Set();\n  class RenderComponent extends React.PureComponent {\n    componentDidMount() {\n      components.add(this);\n    }\n\n    componentWillUnmount() {\n      components.delete(this);\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} {...storedAdditionalProps} />;\n    }\n  }\n  RenderComponent.update = () => {\n    storedAdditionalProps = getAdditionalProps();\n    Array.from(components.values()).forEach(component => component.forceUpdate());\n  };\n  return RenderComponent;\n};\n","export const createStateHelper = (component, controlledStateProperties = {}) => {\n  const notifyStateChange = (nextState, state) => {\n    Object.keys(controlledStateProperties).forEach((propertyName) => {\n      const changeEvent = controlledStateProperties[propertyName]();\n      if (changeEvent && nextState[propertyName] !== state[propertyName]) {\n        changeEvent(nextState[propertyName]);\n      }\n    });\n  };\n\n  let lastStateUpdater = null;\n  let initialState = null;\n  let lastInitialState = null;\n  const applyReducer = (reduce, payload, callback) => {\n    const stateUpdater = (prevState) => {\n      if (initialState === null) {\n        initialState = prevState;\n      }\n      const stateChange = reduce({ ...prevState }, payload);\n      const state = { ...prevState, ...stateChange };\n\n      if (typeof callback === 'function') {\n        callback(state, prevState);\n      }\n      if (stateUpdater === lastStateUpdater) {\n        if (lastInitialState !== initialState) {\n          notifyStateChange(state, initialState);\n          lastInitialState = initialState;\n        }\n        initialState = null;\n      }\n\n      return stateChange;\n    };\n    lastStateUpdater = stateUpdater;\n    component.setState(stateUpdater);\n  };\n  const applyFieldReducer = (field, reduce, payload) => {\n    applyReducer(state => ({\n      [field]: reduce(state[field], payload),\n    }));\n  };\n\n  return {\n    applyReducer,\n    applyFieldReducer,\n  };\n};\n","import * as React from 'react';\n\nconst makeBoundComponent = (Target, components, exposed) => {\n  class Component extends React.PureComponent {\n    render() {\n      return <Target {...components} {...this.props} />;\n    }\n  }\n  Component.components = Target.components;\n  Object.assign(Component, exposed);\n  return Component;\n};\n\nexport const withComponents = components => (Target) => {\n  const props = {};\n  const exposed = {};\n  Object.entries(Target.components).forEach(([fieldName, componentName]) => {\n    const component = components[componentName];\n    if (component && component !== Target[componentName]) {\n      props[fieldName] = component;\n    }\n    exposed[componentName] = component || Target[componentName];\n  });\n  return Object.keys(props).length > 0\n    ? makeBoundComponent(Target, props, exposed) : Target;\n};\n"],"names":["PluginHostContext","React","PositionContext","TemplateHostContext","PluginIndexer","children","React.createElement","positionContext","map","child","index","type","childPosition","calculatedPosition","propTypes","PropTypes","defaultProps","undefined","PLUGIN_HOST_CONTEXT","POSITION_CONTEXT","TEMPLATE_HOST_CONTEXT","RERENDER_TEMPLATE_EVENT","Symbol","RERENDER_TEMPLATE_SCOPE_EVENT","UPDATE_CONNECTION_EVENT","withContext","Context","name","Component","props","context","withHostAndPosition","PluginBase","pluginHost","position","dependencies","plugin","container","registerPlugin","ensureDependencies","unregisterPlugin","isRequired","optional","Plugin","TemplatePlaceholderBase","propsName","subscription","id","template","forceUpdate","registerSubscription","nextProps","getRenderingData","params","shallowEqual","unregisterSubscription","templates","collect","filter","predicate","reverse","templateHost","restTemplates","slice","content","templateContent","templatePlaceholder","TemplatePlaceholder","PluginHost","host","PluginHostCore","getAvailableGetters","getGetterValue","getterName","get","trackedDependencies","getters","Proxy","target","prop","result","getOwnPropertyDescriptor","configurable","enumerable","value","ownKeys","knownKeys","reduce","acc","Object","defineProperty","isTrackedDependenciesChanged","prevTrackedDependencies","keys","assign","getAvailableActions","getAction","actionName","actions","ActionBase","action","nextParams","newParams","nextAction","Action","GetterBase","lastComputed","lastTrackedDependencies","lastResult","original","computed","broadcast","Getter","globalTemplateId","TemplateBase","Template","TemplateConnector","updateConnection","contextType","TIMEOUT","TouchStrategy","delegate","touchStartTimeout","dragging","clearTimeout","e","touches","x","clientX","y","clientY","setTimeout","onStart","cancelWaiting","preventDefault","onMove","changedTouches","onEnd","mouseInitialOffset","gestureCover","toggleGestureCover","toggle","cursor","style","pointerEvents","top","right","left","bottom","opacity","zIndex","document","createElement","body","appendChild","forEach","key","BOUNDARY","clamp","min","max","Math","isBoundExceeded","initialX","initialY","MouseStrategy","dragStarted","window","getSelection","removeAllRanges","getComputedStyle","elementFromPoint","eventEmitter","getSharedEventEmitter","EventEmitter","addEventListener","emit","passive","clear","empty","selection","draggingHandled","Draggable","unstable_batchedUpdates","onUpdate","mouseStrategy","touchStrategy","mouseDownListener","bind","touchStartListener","globalListener","subscribe","setupNodeSubscription","unsubscribe","node","findDOMNode","removeEventListener","isWaiting","start","move","end","isDragging","DragDropContext","DragDropProviderCore","payload","dragEmitter","clientOffset","DragDropProvider","onChange","dragDropProvider","DragSource","update","DropTarget","isOver","handleDrag","getBoundingClientRect","onDrop","onEnter","onLeave","onOver","only","RefHolder","styles","triggersRoot","height","width","overflow","visibility","expandTrigger","contractTrigger","minHeight","minWidth","contractNotifier","Sizer","setupListeners","rootRef","createListeners","rootNode","current","size","clientHeight","clientWidth","scrollTop","scrollLeft","expandNotifier","onSizeChange","Container","containerComponent","restProps","connectProps","WrappedComponent","getAdditionalProps","storedAdditionalProps","components","Set","RenderComponent","add","delete","Array","from","values","component","createStateHelper","controlledStateProperties","notifyStateChange","nextState","state","propertyName","changeEvent","lastStateUpdater","initialState","lastInitialState","applyReducer","callback","stateUpdater","prevState","stateChange","setState","applyFieldReducer","field","makeBoundComponent","Target","exposed","withComponents","entries","fieldName","componentName","length"],"mappings":"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"}